var woodsauc =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./script.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../node_modules/ripplet.js/es/ripplet.js":
/*!**************************************************************************!*\
  !*** /home/ceigh/Projects/auction/node_modules/ripplet.js/es/ripplet.js ***!
  \**************************************************************************/
/*! exports provided: defaultOptions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultOptions\", function() { return defaultOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ripplet; });\nvar defaultOptions = {\n  className: '',\n  color: 'rgba(0,0,0,.1)',\n  opacity: null,\n  spreadingDuration: '.4s',\n  spreadingDelay: '0s',\n  spreadingTimingFunction: 'linear',\n  clearingDuration: '1s',\n  clearingDelay: '0s',\n  clearingTimingFunction: 'ease-in-out',\n  centered: false,\n  appendTo: 'body'\n};\nfunction ripplet(_a, _options) {\n  var currentTarget = _a.currentTarget,\n      clientX = _a.clientX,\n      clientY = _a.clientY;\n\n  if (!(currentTarget instanceof Element)) {\n    return;\n  }\n\n  var options = _options ? Object.keys(defaultOptions).reduce(function (merged, field) {\n    return merged[field] = _options.hasOwnProperty(field) ? _options[field] : defaultOptions[field], merged;\n  }, {}) : defaultOptions;\n  var targetRect = currentTarget.getBoundingClientRect();\n\n  if (options.centered && options.centered !== 'false') {\n    clientX = targetRect.left + targetRect.width * .5;\n    clientY = targetRect.top + targetRect.height * .5;\n  } else if (typeof clientX !== 'number' || typeof clientY !== 'number') {\n    return;\n  }\n\n  var documentElement = document.documentElement,\n      body = document.body;\n  var containerElement = document.createElement('div');\n  var removingElement = containerElement;\n  {\n    var appendToParent = options.appendTo === 'parent';\n    var targetStyle = getComputedStyle(currentTarget);\n    var containerStyle = containerElement.style;\n\n    if (targetStyle.position === 'fixed' || targetStyle.position === 'absolute' && appendToParent) {\n      if (appendToParent) {\n        currentTarget.parentElement.insertBefore(containerElement, currentTarget);\n      } else {\n        body.appendChild(containerElement);\n      }\n\n      copyStyles(containerStyle, targetStyle, ['position', 'left', 'top', 'right', 'bottom', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom']);\n    } else if (appendToParent) {\n      var parentStyle = getComputedStyle(currentTarget.parentElement);\n\n      if (parentStyle.display === 'flex' || parentStyle.display === 'inline-flex') {\n        currentTarget.parentElement.insertBefore(containerElement, currentTarget);\n        containerStyle.position = 'absolute';\n        containerStyle.left = currentTarget.offsetLeft + \"px\";\n        containerStyle.top = currentTarget.offsetTop + \"px\";\n      } else {\n        var containerContainer = removingElement = currentTarget.parentElement.insertBefore(document.createElement('div'), currentTarget);\n        var containerContainerStyle = containerContainer.style;\n        containerContainerStyle.display = 'inline-block';\n        containerContainerStyle.position = 'relative';\n        containerContainerStyle.width = containerContainerStyle.height = '0';\n        containerContainerStyle.cssFloat = targetStyle.cssFloat;\n        var containerContainerRect = containerContainer.getBoundingClientRect(); // this may be a slow operation...\n\n        containerContainer.appendChild(containerElement);\n        containerStyle.position = 'absolute';\n        containerStyle.top = targetRect.top - containerContainerRect.top + \"px\";\n        containerStyle.left = targetRect.left - containerContainerRect.left + \"px\";\n      }\n    } else {\n      body.appendChild(containerElement);\n      containerStyle.position = 'absolute';\n      containerStyle.left = targetRect.left + documentElement.scrollLeft + body.scrollLeft + \"px\";\n      containerStyle.top = targetRect.top + documentElement.scrollTop + body.scrollTop + \"px\";\n    }\n\n    containerStyle.overflow = 'hidden';\n    containerStyle.pointerEvents = 'none';\n    containerStyle.width = targetRect.width + \"px\";\n    containerStyle.height = targetRect.height + \"px\";\n    containerStyle.zIndex = \"\" + ((parseInt(targetStyle.zIndex, 10) || 0) + 1);\n    containerStyle.opacity = options.opacity;\n    copyStyles(containerStyle, targetStyle, ['borderTopLeftRadius', 'borderTopRightRadius', 'borderBottomLeftRadius', 'borderBottomRightRadius', 'webkitClipPath', 'clipPath']);\n  }\n  {\n    var distanceX = Math.max(clientX - targetRect.left, targetRect.right - clientX);\n    var distanceY = Math.max(clientY - targetRect.top, targetRect.bottom - clientY);\n    var radius = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n    var rippletElement = containerElement.appendChild(document.createElement('div'));\n    var rippletStyle = rippletElement.style;\n    rippletElement.className = options.className;\n    rippletStyle.backgroundColor = options.color;\n    rippletStyle.width = rippletStyle.height = radius * 2 + \"px\";\n    rippletStyle.marginLeft = clientX - targetRect.left - radius + \"px\";\n    rippletStyle.marginTop = clientY - targetRect.top - radius + \"px\";\n    rippletStyle.borderRadius = '50%';\n    rippletStyle.transition = \"transform \" + options.spreadingDuration + \" \" + options.spreadingTimingFunction + \" \" + options.spreadingDelay + (\",opacity \" + options.clearingDuration + \" \" + options.clearingTimingFunction + \" \" + options.clearingDelay);\n    rippletStyle.transform = 'scale(0)'; // reflect styles by force layout\n    // tslint:disable-next-line:no-unused-expression\n\n    rippletElement.offsetTop;\n    rippletElement.addEventListener('transitionend', function (event) {\n      if (event.propertyName === 'opacity' && removingElement.parentElement) {\n        removingElement.parentElement.removeChild(removingElement);\n      }\n    });\n    rippletStyle.transform = '';\n    rippletStyle.opacity = '0';\n  }\n  return containerElement;\n}\n\nfunction copyStyles(destination, source, properties) {\n  for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n    var property = properties_1[_i];\n    destination[property] = source[property];\n  }\n}\n\n//# sourceURL=webpack://woodsauc//home/ceigh/Projects/auction/node_modules/ripplet.js/es/ripplet.js?");

/***/ }),

/***/ "./notifications.js":
/*!**************************!*\
  !*** ./notifications.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n\nvar playNotificationSound = function playNotificationSound() {\n  var audio = new Audio();\n  audio.src = '/static/sound/light.mp3';\n  audio.autoplay = true;\n}; // Open browser window if collapsed\n\n\nvar focusWindow = function focusWindow() {\n  window.focus();\n}; // HTML5 notifications\n// Make notification element\n\n\nvar createNotification = function createNotification(title, options) {\n  var notification = new Notification(title, options);\n  notification.onclick = focusWindow;\n  return notification;\n};\n\nvar makeNotificationOptions = function makeNotificationOptions(title, body) {\n  return {\n    title: title,\n    body: body,\n    dir: 'ltr',\n    lang: 'ru',\n    icon: '/static/img/favicon/favicon.png'\n  };\n}; // Send it\n\n\nvar sendNotification = function sendNotification(title, body) {\n  var permission = Notification.permission;\n  var options = makeNotificationOptions(title, body); // Проверим, поддерживает ли браузер HTML5 Notifications\n\n  if (!('Notification' in window)) {\n    return;\n  } // Проверим, есть ли права на отправку уведомлений\n\n\n  if (permission === 'granted') {\n    // Если права есть, отправим уведомление\n    createNotification(title, options); // Если прав нет, пытаемся их получить\n  } else if (permission !== 'denied') {\n    Notification.requestPermission(function (permission) {\n      // Если права успешно получены, отправляем уведомление\n      if (permission === 'granted') {\n        createNotification(title, options);\n      }\n    });\n  }\n}; // Clear notification area\n\n\nvar clear = function clear() {\n  var notifications = document.getElementById('notifications-area');\n\n  while (notifications.children.length > 0) {\n    notifications.removeChild(notifications.firstChild);\n  }\n}; // All functions in one object\n\n\nvar notifications = {\n  playNotificationSound: playNotificationSound,\n  sendNotification: sendNotification,\n  clear: clear\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (notifications);\n\n//# sourceURL=webpack://woodsauc/./notifications.js?");

/***/ }),

/***/ "./script.js":
/*!*******************!*\
  !*** ./script.js ***!
  \*******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ripplet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ripplet.js */ \"../../node_modules/ripplet.js/es/ripplet.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"./timer.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./notifications */ \"./notifications.js\");\n/* harmony import */ var _stringUtilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringUtilities */ \"./stringUtilities.js\");\n\n\n\n\n\n\nvar firefox = navigator.userAgent.toLowerCase().includes('firefox');\nvar body = document.querySelector('body');\n\nif (firefox && !getCookie('bg-url')) {\n  body.style.backgroundImage = \"url('/static/img/bg/tree.jpg')\";\n}\n\nvar minsCookie = getCookie('previousMinutes');\nvar timerElement = document.getElementById('timer');\n\nif (minsCookie) {\n  timerElement.innerHTML = \"\".concat(minsCookie, \":00:00\");\n}\n\nvar timer = new _timer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](timerElement);\nvar timerBtns = Array.from(document.getElementById('timer-btns').children);\nvar startBtn = document.getElementById('start-btn');\nvar stopBtn = document.getElementById('stop-btn');\nvar plusBtn = document.getElementById('plus-btn');\nvar plusTwoBtn = document.getElementById('plus-two-btn');\nvar minusBtn = document.getElementById('minus-btn');\nvar modalOverlay = document.getElementById('modal-overlay');\ntimerBtns.forEach(function (item) {\n  return item.addEventListener('click', ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n});\nmodalOverlay.addEventListener('click', ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nstartBtn.onclick = function () {\n  var mins = timerElement.innerHTML.split(':')[0];\n\n  if (mins) {\n    setCookie('previousMinutes', mins, {\n      'expires': year\n    });\n  }\n\n  timer.start();\n};\n\nstopBtn.onclick = function () {\n  if (timer.started) {\n    timer.timeStart = new Date(new Date() - timer.time + 300);\n    _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].clear();\n    timer.stop();\n  } else {\n    timer.reset();\n  }\n};\n\nplusBtn.onclick = function () {\n  return timer.plusOne();\n};\n\nplusTwoBtn.onclick = function () {\n  return timer.plusTwo();\n};\n\nminusBtn.onclick = function () {\n  return timer.minusOne();\n}; //Dynamic inputs\n\n\nvar defaultSize = 16.2;\nvar defaultMargin = 2.6;\nvar highestMargin = 35.4;\nvar maxSize = defaultSize;\nvar maxMargin = defaultMargin;\nvar styleForSize = document.createElement('style');\nstyleForSize.appendChild(document.createTextNode(\".name{width:\".concat(defaultSize, \"vw}\")));\ndocument.head.appendChild(styleForSize);\n\nfunction changeSize(nameElement) {\n  var width;\n  var margin;\n  var delta = nameElement.value.length - 10;\n  var names = document.getElementsByClassName('name');\n\n  if (delta > 0) {\n    width = defaultSize + delta * 2.1;\n    width = +width.toFixed(2);\n    margin = defaultMargin + delta * 2.1;\n    margin = margin.toFixed(2);\n    margin = margin > highestMargin ? highestMargin : margin;\n  } else if (names.length === 1) {\n    maxSize = defaultSize;\n    maxMargin = defaultMargin;\n    styleForSize.innerText = \".name{width:\".concat(defaultSize, \"vw}#add-btn{width:\").concat(defaultSize + 10, \"vw}.block-buy span{margin-right:\").concat(defaultMargin, \"vw}\");\n  }\n\n  if (width && width > maxSize) {\n    maxSize = width;\n    maxMargin = margin;\n    styleForSize.innerText = \".name{width:\".concat(width, \"vw}#add-btn{width:\").concat(width + 10, \"vw!important}.block-buy span{margin-right:\").concat(margin, \"vw!important}\");\n  }\n} // DonationAlerts\n\n\ntry {\n  // noinspection JSUnresolvedFunction\n  var socket = io('https://socket.donationalerts.ru:443', {\n    'reconnection': false\n  });\n  var token = getCookie('token');\n\n  if (token) {\n    // noinspection JSUnresolvedFunction\n    socket.emit('add-user', {\n      'token': token,\n      'type': 'minor'\n    });\n  }\n\n  socket.on('donation', function (msg) {\n    if (timer.started) {\n      var msgJSON = JSON.parse(msg);\n\n      if (msgJSON['alert_type'] === 1 || msgJSON['alert_type'] === '1') {\n        (function () {\n          var message = msgJSON['message'];\n          message = message.replace(/\\s+/g, ' ');\n          var amount = +msgJSON['amount']; // let currency = msgJSON['currency'];\n          // console.log(message, amount, currency);\n\n          var names = document.getElementsByClassName('name');\n          var costs = document.getElementsByClassName('cost');\n          var notificationArea = document.getElementById('notifications-area');\n          var inserted = false;\n\n          for (var i = 0; i < Math.min(names.length, costs.length); i++) {\n            var name = names[i].value; // let cost = +costs[i].value;\n\n            if (name && message.toLowerCase().includes(name.toLowerCase())) {\n              var _ret = function () {\n                // console.log(`${name} in ${message}`);\n                var notification = document.createElement('div');\n                notification.className = 'notification'; // noinspection HtmlUnknownTarget\n\n                notification.innerHTML = \"<p></p>\\n                        <button class=\\\"notification-btn\\\" type=\\\"button\\\" title=\\\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\\\">\\n                            <img src=\\\"/static/img/icons/material/done.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\\\">\\n                        </button>\\n                        <button class=\\\"notification-btn\\\" type=\\\"button\\\" title=\\\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\\\">\\n                            <img src=\\\"/static/img/icons/material/clear.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043E\\u0447\\u0438\\u0441\\u0442\\u043A\\u0438\\\">\\n                        </button>\";\n                notification.children[0].innerText = \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u20BD\".concat(amount, \" \\u043A \\\"\").concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"trim\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(name)), \"\\\"?\");\n                notification.children[0].setAttribute('title', \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u20BD\".concat(amount, \" \\u043A \\\"\").concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"trim\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(name)), \"\\\"?\"));\n\n                notification.children[1].onclick = function () {\n                  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n                  costs = document.getElementsByClassName('cost');\n                  names = document.getElementsByClassName('name');\n\n                  for (var _i = 0; _i < Math.min(names.length, costs.length); _i++) {\n                    var _name = names[_i].value;\n                    var cost = +costs[_i].value;\n\n                    if (_name && message.toLowerCase().includes(_name.toLowerCase())) {\n                      costs[_i].value = amount + cost;\n                      checkOnBuy(costs[_i]);\n                      sortCandidates();\n                      changeTitle(costs[_i]);\n                      notification.classList.add('hidden');\n                      setTimeout(function () {\n                        notification.remove();\n                      }, 300);\n                    }\n                  }\n                };\n\n                notification.children[2].onclick = function () {\n                  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n                  notification.classList.add('hidden');\n                  setTimeout(function () {\n                    notification.remove();\n                  }, 300);\n                };\n\n                notificationArea.insertBefore(notification, notificationArea.firstElementChild);\n                _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n                inserted = true;\n                return \"break\";\n              }();\n\n              if (_ret === \"break\") break;\n            }\n          }\n\n          if (!inserted) {\n            var _notification = document.createElement('div');\n\n            _notification.className = 'notification'; // noinspection HtmlUnknownTarget\n\n            _notification.innerHTML = \"<p></p>\\n                    <button class=\\\"notification-btn\\\" type=\\\"button\\\" title=\\\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\\\">\\n                        <img src=\\\"/static/img/icons/material/done.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\\\">\\n                    </button>\\n                    <button class=\\\"notification-btn\\\" type=\\\"button\\\" title=\\\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\\\">\\n                        <img src=\\\"/static/img/icons/material/clear.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043E\\u0447\\u0438\\u0441\\u0442\\u043A\\u0438\\\">\\n                    </button>\";\n            _notification.children[0].innerText = \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\\"\".concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"trim\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(message)), \"\\\" \\u0441 \\u20BD\").concat(amount, \"?\");\n\n            _notification.children[0].setAttribute('title', \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\\"\".concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"trim\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(message)), \"\\\" \\u0441 \\u20BD\").concat(amount, \"?\"));\n\n            _notification.children[1].onclick = function () {\n              Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n              var div = document.createElement('div');\n              div.className = 'block';\n              div.innerHTML = \"<label>\\n                           <input class=\\\"name\\\" type=\\\"text\\\" autocomplete=\\\"off\\\"\\n                           onkeyup=\\\"createLink(this);changeSize(this)\\\" onchange=\\\"changeSize(this)\\\"\\n                           placeholder=\\\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F\\\" spellcheck=\\\"false\\\" onclick=\\\"ripplet(arguments[0])\\\">\\n                           <input onclick=\\\"ripplet(arguments[0])\\\" class=\\\"cost\\\" type=\\\"text\\\" min=\\\"0\\\" step=\\\"10\\\" \\n                             onchange=\\\"changeTitle(this);checksum(this);sortCandidates()\\\" \\n                             placeholder=\\\"\\u20BD\\\" value=\\\"\".concat(amount, \"\\\" autocomplete=\\\"off\\\">\\n                         </label>\\n                         <span>\\n                         <a href=\\\"https://www.kinopoisk.ru\\\" target=\\\"_blank\\\" class=\\\"kp-link\\\"\\n                           onclick=\\\"ripplet(arguments[0])\\\" title=\\\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0438\\u043D\\u043E\\u043F\\u043E\\u0438\\u0441\\u043A\\\">\\n                           <img src=\\\"/static/img/icons/material/video-library.svg\\\" \\n                           alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0438 \\u043D\\u0430 \\u043A\\u0438\\u043D\\u043E\\u043F\\u043E\\u0438\\u0441\\u043A\\\"></a>\\n                         <button type=\\\"button\\\" class=\\\"btn\\\" \\n                         onclick=\\\"ripplet(arguments[0]);removeRow(this)\\\" title=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\">\\n                           <img src=\\\"/static/img/icons/material/delete.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\\\">\\n                         </button>\\n                         </span>\");\n              div.children[0].children[0].value = message;\n              div.children[0].children[0].setAttribute('title', message);\n              div.children[0].children[1].setAttribute('title', \"\\u0421\\u0443\\u043C\\u043C\\u0430: \".concat(amount, \" \\u20BD\"));\n              changeSize(div.children[0].children[0]);\n              checkOnBuy(div.children[0].children[1]);\n              candidatesArea.insertBefore(div, candidatesArea.lastElementChild);\n              sortCandidates();\n              setTimeout(function () {\n                div.classList.add('visible');\n              }, 20);\n\n              for (var _i2 = 0; _i2 < names.length; _i2++) {\n                createLink(names[_i2]);\n              }\n\n              _notification.classList.add('hidden');\n\n              setTimeout(function () {\n                _notification.remove();\n              }, 300);\n            };\n\n            _notification.children[2].onclick = function () {\n              Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n\n              _notification.classList.add('hidden');\n\n              setTimeout(function () {\n                _notification.remove();\n              }, 300);\n            };\n\n            notificationArea.insertBefore(_notification, notificationArea.firstElementChild);\n            _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n          }\n\n          var cuteMsg = message.replace(/\\s+$/, '');\n          cuteMsg = cuteMsg.length > 30 ? \"\".concat(cuteMsg.substr(0, 30), \"...\") : cuteMsg;\n          sendNotification(\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043F\\u043E\\u0436\\u0435\\u0440\\u0442\\u0432\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\".concat(msgJSON['username'] ? \" \\u043E\\u0442 \".concat(msgJSON['username']) : '', \"!\"), {\n            'body': \"\\\"\".concat(cuteMsg, \"\\\" \\u0441 \").concat(amount, \"\\u20BD\"),\n            'dir': 'ltr',\n            'lang': 'ru',\n            'icon': '/static/img/favicon/favicon.png'\n          });\n        })();\n      }\n    }\n  });\n} catch (e) {\n  console.log(\"Нет подключения, автодобавление не будет работать.\");\n} // Candidates\n\n\nfunction sortCandidates() {\n  var total = [];\n  var names = document.getElementsByClassName('name');\n  var costs = document.getElementsByClassName('cost');\n\n  for (var i = 0; i < Math.min(names.length, costs.length); i++) {\n    var name = names[i].value;\n    var cost = +costs[i].value;\n    var titleName = names[i].getAttribute('title');\n    var titleCost = costs[i].getAttribute('title');\n    var link = names[i].parentNode.parentNode.children[1].children[0].href;\n    total.push({\n      'name': name,\n      'cost': cost,\n      'titleName': titleName,\n      'titleCost': titleCost,\n      'link': link\n    });\n  }\n\n  total = total.sort(function (e1, e2) {\n    return e1.cost - e2.cost;\n  }).reverse(); // console.log(total);\n\n  for (var _i3 = 0; _i3 < Math.min(names.length, costs.length); _i3++) {\n    var _cost = total[_i3].cost;\n    costs[_i3].value = _cost === 0 ? '' : _cost;\n    names[_i3].value = total[_i3].name;\n\n    names[_i3].setAttribute('title', total[_i3].titleName);\n\n    costs[_i3].setAttribute('title', total[_i3].titleCost);\n\n    names[_i3].parentNode.parentNode.children[1].children[0].href = total[_i3].link;\n  }\n}\n\nfunction clearRow() {\n  var candidateArea = document.getElementById('candidates-area');\n  var label = candidateArea.children[1].children[0];\n  var link = candidateArea.children[1].children[1].children[0];\n  label.children[0].value = '';\n  label.children[1].value = '';\n  label.children[0].setAttribute('title', 'Фильм, игра, etc');\n  label.children[1].setAttribute('title', 'Сумма');\n  link.href = 'https://www.kinopoisk.ru';\n  changeSize(label.children[0]);\n}\n\nfunction removeRow(delBtn) {\n  setTimeout(function () {\n    try {\n      delBtn.parentNode.parentNode.parentNode.removeChild(delBtn.parentNode.parentNode);\n    } catch (e) {} // Get back to default size after delete last non-empty row\n\n\n    var names = document.getElementsByClassName('name');\n\n    if (names.length === 1 && !names[0].value) {\n      maxSize = defaultSize;\n      styleForSize.innerText = \".name{width:\".concat(defaultSize, \"vw}#add-btn{width:\").concat(defaultSize + 10, \"vw}\");\n    }\n  }, 200);\n}\n\nfunction createLink(nameElement) {\n  nameElement.value = Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"oneSpace\"])(nameElement.value);\n  var name = nameElement.value;\n\n  if (name) {\n    nameElement.parentNode.parentNode.children[1].children[0].href = encodeURI(\"https://www.kinopoisk.ru/s/type/all/find/\".concat(name, \"/\"));\n    nameElement.setAttribute('title', Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(name));\n  } else {\n    nameElement.parentNode.parentNode.children[1].children[0].href = 'https://www.kinopoisk.ru';\n    nameElement.setAttribute('title', \"Фильм, игра, etc\");\n  }\n}\n\nvar addBtn = document.getElementById('add-btn');\nvar candidatesArea = document.getElementById('candidates-area');\n\naddBtn.onclick = function () {\n  var div = document.createElement('div');\n  div.className = 'block'; // noinspection HtmlUnknownTarget\n\n  div.innerHTML = \"<label>\\n           <input class=\\\"name\\\" type=\\\"text\\\" onkeyup=\\\"createLink(this);changeSize(this)\\\"  onchange=\\\"changeSize(this)\\\"\\n             onclick=\\\"ripplet(arguments[0])\\\" title=\\\"\\u0424\\u0438\\u043B\\u044C\\u043C, \\u0438\\u0433\\u0440\\u0430, etc\\\" autocomplete=\\\"off\\\" placeholder=\\\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F\\\" spellcheck=\\\"false\\\">\\n           <input class=\\\"cost\\\" type=\\\"text\\\" min=\\\"0\\\" step=\\\"10\\\" placeholder=\\\"\\u20BD\\\" title=\\\"\\u0421\\u0443\\u043C\\u043C\\u0430\\\"\\n             onclick=\\\"ripplet(arguments[0])\\\" onchange=\\\"changeTitle(this);checksum(this);sortCandidates();checkOnBuy(this)\\\" autocomplete=\\\"off\\\">\\n         </label>\\n         <span>\\n         <a href=\\\"https://www.kinopoisk.ru\\\" target=\\\"_blank\\\" class=\\\"kp-link\\\" \\n           onclick=\\\"ripplet(arguments[0])\\\" title=\\\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0438\\u043D\\u043E\\u043F\\u043E\\u0438\\u0441\\u043A\\\">\\n           <img src=\\\"static/img/icons/material/video-library.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0438 \\u043D\\u0430 \\u043A\\u0438\\u043D\\u043E\\u043F\\u043E\\u0438\\u0441\\u043A\\\"></a>\\n         <button type=\\\"button\\\" class=\\\"btn\\\" \\n           onclick=\\\"ripplet(arguments[0]);removeRow(this)\\\" title=\\\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\\\">\\n           <img src=\\\"/static/img/icons/material/delete.svg\\\" alt=\\\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\\\">\\n         </button>\\n        </span>\";\n  candidatesArea.insertBefore(div, candidatesArea.lastElementChild);\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  setTimeout(function () {\n    div.classList.add('visible');\n  }, 10);\n  div.children[0].children[0].focus();\n  sortCandidates();\n}; // Settings\n// Set cookie is in index.html\n\n\nfunction setCookie(name, value, options) {\n  options = options || {};\n  var expires = options.expires;\n\n  if (typeof expires == 'number' && expires) {\n    var d = new Date();\n    d.setTime(d.getTime() + expires * 1000);\n    expires = options.expires = d;\n  }\n\n  if (expires && expires.toUTCString) {\n    options.expires = expires.toUTCString();\n  }\n\n  value = encodeURIComponent(value);\n  var updatedCookie = \"\".concat(name, \"=\").concat(value);\n\n  for (var propName in options) {\n    updatedCookie += \"; \" + propName; // noinspection JSUnfilteredForInLoop\n\n    var propValue = options[propName];\n\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n\n  document.cookie = updatedCookie;\n}\n\nfunction changeBG(url) {\n  var bgImg = new Image();\n\n  if (url && url !== '') {\n    bgImg.onload = function () {\n      body.style.backgroundImage = \"url(\".concat(bgImg.src, \")\");\n    };\n\n    bgImg.src = url;\n  } else {\n    if (firefox) {\n      body.style.backgroundImage = \"url('/static/img/bg/tree.jpg')\";\n    } else {\n      body.style.backgroundImage = \"url('/static/img/bg/tree.webp')\";\n    }\n  }\n}\n\nfunction sheet(css) {\n  var style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  document.head.appendChild(style);\n  return style;\n}\n\nfunction textSelect(inputElem) {\n  inputElem.focus();\n  inputElem.select();\n}\n\nvar showSettingsBtn = document.getElementById('settings-icon');\nvar settingsWindow = document.getElementById('settings');\nvar saveBGURLBtn = document.getElementById('save-bg-url-btn');\nvar clearBGURLBtn = document.getElementById('clear-bg-url-btn');\nvar bgURLInput = document.getElementById('bg-url');\nvar colorExctractor = document.getElementById('color-extractor');\nvar year = 31622400;\nvar bgURL = getCookie('bg-url');\nvar styleElement;\n\nbgURLInput.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  textSelect(this);\n};\n\nshowSettingsBtn.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  settingsWindow.classList.toggle(\"closed\");\n};\n\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\n\nvar colorCookie = getCookie('accent'); // noinspection JSUnresolvedVariable\n\nripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"defaultOptions\"].clearingDuration = '.3s'; // noinspection JSUnresolvedVariable\n\nripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"defaultOptions\"].spreadingDuration = '.3s';\nvar color;\n\nif (colorCookie) {\n  var rgb = hexToRgb(colorCookie);\n  color = \"rgba(\".concat(rgb.r, \", \").concat(rgb.g, \", \").concat(rgb.b, \", .6)\");\n} else {\n  color = 'rgba(243, 151, 39, .6)';\n} // noinspection JSUnresolvedVariable\n\n\nripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"defaultOptions\"].color = color;\n\nif (colorCookie && colorCookie !== '') {\n  var accentShadow = hexToRgb(colorCookie);\n  accentShadow = \"rgba(\".concat(accentShadow.r, \", \").concat(accentShadow.g, \", \").concat(accentShadow.b, \", 0.7)\");\n  styleElement = sheet(\".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:\".concat(colorCookie, \"!important}\\ninput:focus{--accent:\").concat(colorCookie, \"!important;--shadow:\").concat(accentShadow, \"!important}\\n::selection{background:\").concat(accentShadow, \"!important}::-moz-selection{background:\").concat(accentShadow, \"}!important\"));\n} else {\n  styleElement = sheet(\".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\\ninput:focus{--accent:#f39727!important;--shadow:rgba(243, 151, 39, 0.7)!important}\\n::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}\");\n}\n/**\n * @return {boolean}\n */\n\n\nfunction isUrlWork(url) {\n  var http = new XMLHttpRequest();\n\n  try {\n    http.open('HEAD', url, false);\n    http.send();\n    return http.status === 200;\n  } catch (e) {\n    console.log(e);\n    return false;\n  }\n}\n\nfunction isUrlValid(url) {\n  // noinspection RegExpRedundantEscape\n  var objRE = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&/=]*)/i;\n  return objRE.test(url);\n}\n\nfunction notification(text) {\n  var tray = document.getElementById('notifications-area');\n  var notification = document.createElement('div');\n  var p = document.createElement('p');\n  p.innerText = text;\n  p.setAttribute('title', text);\n  notification.appendChild(p);\n  notification.className = 'notification';\n  tray.insertBefore(notification, tray.firstElementChild);\n  _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n  setTimeout(function () {\n    notification.classList.add('hidden');\n    setTimeout(function () {\n      notification.remove();\n    }, 300);\n  }, 1200);\n}\n\nsaveBGURLBtn.onclick = function () {\n  var url = bgURLInput.value;\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n\n  if (!url) {\n    notification(\"Нет URL фона\");\n  } else {\n    if (url === getCookie('bg-url')) {\n      notification(\"Этот фон уже установлен\");\n    } else {\n      if (!isUrlValid(url)) {\n        notification(\"Введите корректный URL\");\n      } else {\n        if (!isUrlWork(\"https://cors-anywhere.herokuapp.com/\".concat(url))) {\n          notification(\"URL неверный, или не отвечает\");\n        } else {\n          changeBG(url);\n          notification(\"Фон обновлен\"); // Change Accent color\n\n          colorExctractor.setAttribute('src', \"https://cors-anywhere.herokuapp.com/\".concat(url));\n          colorExctractor.addEventListener('load', function () {\n            // noinspection JSUnresolvedFunction\n            var vibrant = new Vibrant(this); // noinspection JSUnresolvedFunction\n\n            var swatches = vibrant.swatches(); // noinspection JSUnresolvedFunction\n\n            var dominant = swatches['Vibrant'].getHex();\n            var shadow = hexToRgb(dominant); // noinspection JSUnresolvedVariable\n\n            ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"defaultOptions\"].color = \"rgba(\".concat(shadow.r, \", \").concat(shadow.g, \", \").concat(shadow.b, \", .6)\");\n            shadow = \"rgba(\".concat(shadow.r, \", \").concat(shadow.g, \", \").concat(shadow.b, \", .7)\");\n            styleElement.innerText = \".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:\".concat(dominant, \"!important}\\n                            input:focus{--accent:\").concat(dominant, \"!important;--shadow:\").concat(shadow, \"!important}\\n                            ::selection{background:\").concat(shadow, \"!important}::-moz-selection{background:\").concat(shadow, \"!important}\");\n            setCookie('bg-url', url, {\n              'expires': year\n            });\n            setCookie('accent', dominant, {\n              'expires': year\n            });\n          });\n        }\n      }\n    }\n  }\n};\n\nclearBGURLBtn.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n\n  if (!bgURLInput.value) {\n    notification(\"Фон уже сброшен\");\n  } else {\n    changeBG('');\n    bgURLInput.value = ''; // noinspection JSUnresolvedVariable\n\n    ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"defaultOptions\"].color = 'rgba(243, 151, 39, .6)';\n    styleElement.innerText = \".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\\n            input:focus{--accent:#f39727!important;--shadow:rgba(243,151,39,.7)!important});\\n            ::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}\";\n    setCookie('bg-url', '', {\n      'expires': year\n    });\n    setCookie('accent', '', {\n      'expires': year\n    });\n    notification(\"Фон сброшен\");\n  }\n};\n\nchangeBG(bgURL);\nbgURLInput.value = bgURL ? bgURL : ''; //DA URL\n\nvar daURL = document.getElementById('da-url');\nvar saveDAURLBtn = document.getElementById('save-da-url-btn');\nvar clearDAURLBtn = document.getElementById('clear-da-url-btn');\nvar tokenCookie = getCookie('token');\n\ndaURL.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  textSelect(this);\n};\n\ndaURL.value = tokenCookie ? tokenCookie : '';\n\nsaveDAURLBtn.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  var token = daURL.value;\n  setCookie('token', token, {\n    'expires': year\n  });\n  var notificationArea = document.getElementById('notifications-area');\n  var notification = document.createElement('div');\n  notification.className = 'notification';\n  notification.innerHTML = \"<p title=\\\"\\u0422\\u043E\\u043A\\u0435\\u043D \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\\">\\u0422\\u043E\\u043A\\u0435\\u043D \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D</p>\";\n  notificationArea.insertBefore(notification, notificationArea.firstElementChild);\n  _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n  setTimeout(function () {\n    notification.classList.add('hidden');\n    setTimeout(function () {\n      notification.remove();\n      location.reload();\n    }, 300);\n  }, 800);\n};\n\nclearDAURLBtn.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  daURL.value = '';\n  setCookie('token', '', {\n    'expires': year\n  });\n  var notificationArea = document.getElementById('notifications-area');\n  var notification = document.createElement('div');\n  notification.className = 'notification';\n  notification.innerHTML = \"<p title=\\\"\\u0422\\u043E\\u043A\\u0435\\u043D \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\\">\\u0422\\u043E\\u043A\\u0435\\u043D \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D</p>\";\n  notificationArea.insertBefore(notification, notificationArea.firstElementChild);\n  _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n  setTimeout(function () {\n    notification.classList.add('hidden');\n    setTimeout(function () {\n      notification.remove();\n      location.reload();\n    }, 300);\n  }, 800);\n}; // Close modal on keydown\n\n\ndocument.onkeydown = function (e) {\n  var modalOverlay = document.getElementById('modal-overlay');\n\n  if (!modalOverlay.classList.contains('closed') && e.key === 'Escape') {\n    modalOverlay.click();\n  }\n}; // Change title on cost\n\n\nfunction changeTitle(costInput) {\n  var cost = costInput.value ? \": \".concat(costInput.value, \" \\u20BD\") : '';\n  costInput.setAttribute('title', \"\\u0421\\u0443\\u043C\\u043C\\u0430\".concat(cost));\n} // Reset button\n\n\nvar resetButton = document.getElementById('reset-icon');\n\nresetButton.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  var candidatesArea = document.getElementById('candidates-area');\n\n  while (candidatesArea.children.length > 3) {\n    candidatesArea.removeChild(candidatesArea.children[candidatesArea.children.length - 2]);\n  }\n\n  clearRow();\n};\n\nvar urlsBtns = document.getElementsByClassName('special-url');\n\nfor (var i = 0; i < urlsBtns.length; i++) {\n  urlsBtns[i].onclick = function () {\n    Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  };\n} //Summary cost\n\n\nfunction checksum(costElement) {\n  var calculated = costElement.value.replace(/[^\\d+*/,.-]/g, '');\n  calculated = calculated.replace(/,/, '.');\n\n  try {\n    calculated = eval(calculated);\n\n    if (isNaN(calculated) || !isFinite(calculated)) {\n      costElement.value = '';\n      costElement.setAttribute('title', 'Сумма');\n    } else {\n      calculated = calculated > 0 ? +calculated.toFixed(2) : '';\n      costElement.value = calculated;\n      costElement.setAttribute('title', \"\\u0421\\u0443\\u043C\\u043C\\u0430: \".concat(calculated, \" \\u20BD\"));\n    }\n  } catch (e) {\n    costElement.value = '';\n    costElement.setAttribute('title', 'Сумма');\n  }\n} // Buy\n\n\nvar costBuy = document.getElementsByClassName('cost-buy')[0];\nvar costBuyCookie = getCookie('buyCost');\nvar costBuyClearBtn = document.querySelector('.block-buy .btn');\nvar isBuy = false;\nvar buyWinner;\nvar buyCost;\ncostBuy.value = costBuyCookie ? costBuyCookie : '';\nchangeTitle(costBuy);\n\ncostBuy.onchange = function () {\n  changeTitle(this);\n  checksum(this);\n  setCookie('buyCost', this.value, {\n    'expires': year\n  });\n};\n\ncostBuy.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n};\n\ncostBuyClearBtn.onclick = function () {\n  Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n  costBuy.value = '';\n  setCookie('buyCost', '', {\n    'expires': -1\n  });\n};\n\nfunction checkOnBuy(costElem) {\n  var neededCost = +costBuy.value;\n  var currentCost = +costElem.value;\n  var nameElem = costElem.previousElementSibling;\n  var winnerName = Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"trim\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_3__[\"toTitle\"])(nameElem.value));\n\n  if (neededCost && winnerName && currentCost >= neededCost) {\n    if (!timer.started) {\n      var modal = document.querySelector('#modal');\n\n      var _modalOverlay = document.querySelector('#modal-overlay');\n\n      _modalOverlay.onclick = function () {\n        Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arguments[0]);\n        modal.classList.toggle('closed');\n\n        _modalOverlay.classList.toggle('closed');\n\n        document.title = \"Аукцион β\";\n      };\n\n      modal.children[0].innerText = \"\\\"\".concat(winnerName, \"\\\" \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438, \\u0430\\u0436 \\u0437\\u0430 \").concat(currentCost, \"\\u20BD Pog!\");\n      document.title = winnerName.length > 30 ? \"\".concat(winnerName.substring(0, 30), \"...\\\" \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438!\") : \"\".concat(winnerName, \" \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438!\");\n      modal.classList.toggle('closed');\n\n      _modalOverlay.classList.toggle('closed');\n\n      _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].playNotificationSound();\n      _notifications__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sendNotification('Аукцион окончен!', \"\\u0412\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438 \\\"\".concat(winnerName.length > 30 ? \"\".concat(winnerName.substring(0, 30), \"...\") : winnerName, \"\\\"!\"));\n    } else {\n      buyWinner = winnerName;\n      buyCost = currentCost;\n      isBuy = true;\n      stopBtn.click();\n    }\n  }\n}\n\nif (Notification.permission === 'default') {\n  Notification.requestPermission();\n}\n\n//# sourceURL=webpack://woodsauc/./script.js?");

/***/ }),

/***/ "./stringUtilities.js":
/*!****************************!*\
  !*** ./stringUtilities.js ***!
  \****************************/
/*! exports provided: toTitle, trim, oneSpace */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toTitle\", function() { return toTitle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trim\", function() { return trim; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"oneSpace\", function() { return oneSpace; });\n // Make String Title Cased\n\nvar toTitle = function toTitle(s) {\n  return s.replace(/(^|\\s)\\S/g, function (t) {\n    return t.toUpperCase();\n  });\n}; // Make one space between words\n\n\nvar oneSpace = function oneSpace(s) {\n  return trim(s).replace(/\\s+/g, ' ');\n}; // Remove spaces on the start and end of string\n\n\nvar trim = function trim(s) {\n  return s.replace(/\\s+$|^\\s+/g, '');\n};\n\n//# sourceURL=webpack://woodsauc/./stringUtilities.js?");

/***/ }),

/***/ "./timer.js":
/*!******************!*\
  !*** ./timer.js ***!
  \******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _winner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./winner */ \"./winner.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Timer =\n/*#__PURE__*/\nfunction () {\n  function Timer(timerElem) {\n    _classCallCheck(this, Timer);\n\n    var arr = timerElem.innerHTML.split(':');\n    this.elem = timerElem;\n    this.m = +arr[0];\n    this.s = +arr[1];\n    this.ms = +arr[2];\n    this.time = new Date(this.m * 60000 + this.s * 1000 + this.ms);\n    this.started = false;\n    this.timeStart = new Date();\n  }\n\n  _createClass(Timer, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      if (this.started) return;\n\n      if (this.m) {\n        this.timeStart = new Date();\n        this.started = true;\n        this.m--; // () => ...() to resolve scope problems\n\n        requestAnimationFrame(function () {\n          return _this.updateTimer();\n        });\n      } else {\n        _winner__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show(false);\n      }\n    } // It's work when timer didnt started\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.elem.innerHTML = '00:00:00';\n      this.m = 0;\n      this.time = new Date(0);\n    } // This work when timer is running\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.elem.innerHTML = '00:00:00';\n      this.m = 0;\n      this.time = new Date(0);\n      this.started = false;\n      cancelAnimationFrame(this.updateTimer);\n    }\n  }, {\n    key: \"minusOne\",\n    value: function minusOne() {\n      if (!this.m) return;\n      this.m--;\n\n      if (this.started) {\n        this.timeStart.setMinutes(this.timeStart.getMinutes() - 1);\n      } else {\n        this.m = this.m < 0 ? 0 : this.m;\n        this.time = new Date(this.m * 60000 + this.s * 1000 + this.ms);\n        timer.innerHTML = \"\".concat(this.m < 10 ? \"0\".concat(this.m) : this.m, \":00:00\");\n      }\n    }\n  }, {\n    key: \"plusOne\",\n    value: function plusOne() {\n      if (this.started) {\n        if (this.m !== 59) {\n          this.timeStart.setMinutes(this.timeStart.getMinutes() + 1);\n          this.m++;\n        }\n      } else {\n        this.m++;\n        this.m = this.m > 59 ? 59 : this.m;\n        this.time = new Date(this.m * 60000 + this.s * 1000 + this.ms);\n        timer.innerHTML = \"\".concat(this.m < 10 ? \"0\".concat(this.m) : this.m, \":00:00\");\n      }\n    }\n  }, {\n    key: \"plusTwo\",\n    value: function plusTwo() {\n      if (this.started) {\n        if (this.m === 58) {\n          this.timeStart.setMinutes(this.timeStart.getMinutes() + 1);\n          this.m++;\n        } else if (this.m < 58) {\n          this.timeStart.setMinutes(this.timeStart.getMinutes() + 2);\n          this.m += 2;\n        }\n      } else {\n        this.m += 2;\n        this.m = this.m > 59 ? 59 : this.m;\n        this.time = new Date(this.m * 60000 + this.s * 1000 + this.ms);\n        timer.innerHTML = \"\".concat(this.m < 10 ? \"0\".concat(this.m) : this.m, \":00:00\");\n      }\n    }\n  }, {\n    key: \"updateTimer\",\n    value: function updateTimer() {\n      var _this2 = this;\n\n      // console.log(`${this.m}:${this.s}`);\n      var current = new Date();\n      var delta = new Date(current - this.timeStart);\n      var result = new Date(this.time - delta);\n      var rm = result.getMinutes(); // result minutes\n\n      var rs = result.getSeconds(); // result seconds\n\n      var rms = result.getMilliseconds(); // result milliseconds\n\n      var winnerResult = _winner__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"return\"]();\n      this.m = rm;\n      this.s = rs;\n      this.ms = rms;\n\n      if (!rm && rs < 31 && !this.elem.classList.contains('danger')) {\n        this.elem.classList.add('danger');\n      } else if (this.elem.classList.contains('danger') && (rm || rs > 31)) {\n        this.elem.classList.remove('danger');\n      }\n\n      document.title = !winnerResult ? 'WoodsAuc' : \"\".concat(_winner__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decorate(winnerResult), \" - WoodsAuc\"); // minimal rms can't be 0, and it's totally random\n\n      if (!rm && !rs && rms < 300 || this.time < delta) {\n        this.stop();\n        _winner__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show(false, _winner__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compile(winnerResult));\n      } else {\n        rm = rm < 10 ? \"0\".concat(rm) : rm;\n        rs = rs < 10 ? \"0\".concat(rs) : rs;\n        rms = rms < 10 ? \"0\".concat(rms) : rms;\n        rms = String(rms).substr(0, 2);\n        this.elem.innerHTML = \"\".concat(rm, \":\").concat(rs, \":\").concat(rms); // () => ...() to resolve scope problems\n\n        requestAnimationFrame(function () {\n          return _this2.updateTimer();\n        });\n      }\n    }\n  }]);\n\n  return Timer;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Timer);\n\n//# sourceURL=webpack://woodsauc/./timer.js?");

/***/ }),

/***/ "./winner.js":
/*!*******************!*\
  !*** ./winner.js ***!
  \*******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./notifications */ \"./notifications.js\");\n/* harmony import */ var _stringUtilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringUtilities */ \"./stringUtilities.js\");\n\n\nvar modal = document.getElementById('modal');\nvar modalOverlay = document.getElementById('modal-overlay');\nvar timerElement = document.getElementById('timer');\n/**\n  * Open modal window with winner result\n  *\n  * @param {boolean} isBuy - a variable that indicates,\n  *                          that the winner is purchased\n  * @param {string} [result] - ready compiled winner to show\n  */\n\nvar showWinner = function showWinner(isBuy) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  if (!result) result = compileWinner(returnWinner());\n\n  if (isBuy) {\n    modal.children[0].innerText = \"\\\"\".concat(buyWinner, \"\\\" \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438, \\u0430\\u0436 \\u0437\\u0430 \").concat(buyCost, \"\\u20BD Pog!\");\n    document.title = buyWinner.length > 30 ? \"\".concat(buyWinner.substring(0, 30), \"... \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438!\") : \"\".concat(buyWinner, \" \\u0432\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438!\");\n    _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendNotification('Аукцион окончен!', \"\\u0412\\u044B\\u043A\\u0443\\u043F\\u0438\\u043B\\u0438 \\\"\".concat(buyWinner.length > 30 ? \"\".concat(buyWinner.substring(0, 30), \"...\") : buyWinner, \"\\\"!\"));\n  } else {\n    modal.children[0].innerText = result;\n    _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendNotification('Аукцион окончен!', result);\n    document.title = result;\n  }\n\n  timerElement.classList.remove('danger');\n  _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"].playNotificationSound();\n  modalOverlay.classList.toggle('closed');\n  modal.classList.toggle('closed');\n\n  modalOverlay.onclick = function () {\n    modal.classList.toggle('closed');\n    modalOverlay.classList.toggle('closed');\n    document.title = 'WoodsAuc';\n  };\n};\n/**\n  * Return raw position with max cost\n  *\n  * @return {(undefined|?string)} - if !cost - undefined,\n  *                                 if !name - null,\n  *                                 if name && cost - string\n  */\n\n\nvar returnWinner = function returnWinner() {\n  var names = document.getElementsByClassName('name');\n  var costs = Array.from(document.getElementsByClassName('cost')).map(function (cost) {\n    return Number(cost.value);\n  });\n  var maxCost = Math.max.apply(null, costs);\n  if (!maxCost) return;\n  var winner = names[costs.indexOf(maxCost)].value;\n  return !winner ? null : winner;\n};\n/**\n  * Join addEnding call with decorate\n  *\n  * @param {(undefined|?string)} winner - winner name from returnWinner\n  * @see returnWinner\n  * @return {string} - result of winner computing\n  */\n\n\nvar compileWinner = function compileWinner(winner) {\n  return addEnding(decorateWinner(winner));\n};\n/**\n  * Append last word to result phrase\n  *\n  * @param {(undefined|?string)} winner - winner name,\n  *                                       result from decorateWinner\n  * @see decorateWinner\n  * @return {string} - winner name + case ending\n  */\n\n\nvar addEnding = function addEnding(winner) {\n  var ending = winner ? 'победил' : winner === null ? 'победила' : 'победил';\n  return \"\".concat(humanizeWinner(winner), \" \").concat(ending, \"!\");\n};\n/**\n  * Add dots if larger than 30 chars and quotes lazy\n  *\n  * @param {(undefined|?string)} winner - winner name\n  * @see returnWinner\n  * @return {(undefined|?string)} - if !cost - undefined,\n  *                                 if !name - null,\n  *                                 if name && cost - string with handsome decoration\n  */\n\n\nvar decorateWinner = function decorateWinner(winner) {\n  if (!winner) return winner;\n  winner = Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__[\"toTitle\"])(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__[\"trim\"])(winner));\n  winner = winner.length < 30 ? winner : \"\".concat(winner.substr(0, 30), \"...\");\n  return JSON.stringify(winner);\n};\n/**\n  * Convert winner to human readable string\n  *\n  * @param {(undefined|?string)} winner - winner name\n  * @see returnWinner\n  * @return {string} - human readable result\n  */\n\n\nvar humanizeWinner = function humanizeWinner(winner) {\n  return winner ? winner : winner === null ? 'Пустая позиция' : 'Никто не';\n};\n\nvar winner = {\n  'show': showWinner,\n  'return': returnWinner,\n  'compile': compileWinner,\n  'addEnding': addEnding,\n  'decorate': decorateWinner,\n  'humanize': humanizeWinner\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (winner);\n\n//# sourceURL=webpack://woodsauc/./winner.js?");

/***/ })

/******/ });