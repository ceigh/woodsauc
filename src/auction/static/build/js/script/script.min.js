var woodsauc=function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return i});var T={className:"",color:"rgba(0,0,0,.1)",opacity:null,spreadingDuration:".4s",spreadingDelay:"0s",spreadingTimingFunction:"linear",clearingDuration:"1s",clearingDelay:"0s",clearingTimingFunction:"ease-in-out",centered:!1,appendTo:"body"};function i(e,n){var t=e.currentTarget,i=e.clientX,o=e.clientY;if(t instanceof Element){var r=n?Object.keys(T).reduce(function(e,t){return e[t]=n.hasOwnProperty(t)?n[t]:T[t],e},{}):T,a=t.getBoundingClientRect();if(r.centered&&"false"!==r.centered)i=a.left+.5*a.width,o=a.top+.5*a.height;else if("number"!=typeof i||"number"!=typeof o)return;var c=document.documentElement,s=document.body,l=document.createElement("div"),u=l,d="parent"===r.appendTo,m=getComputedStyle(t),f=l.style;if("fixed"===m.position||"absolute"===m.position&&d)d?t.parentElement.insertBefore(l,t):s.appendChild(l),w(f,m,["position","left","top","right","bottom","marginLeft","marginTop","marginRight","marginBottom"]);else if(d){var p=getComputedStyle(t.parentElement);if("flex"===p.display||"inline-flex"===p.display)t.parentElement.insertBefore(l,t),f.position="absolute",f.left=t.offsetLeft+"px",f.top=t.offsetTop+"px";else{var _=u=t.parentElement.insertBefore(document.createElement("div"),t),g=_.style;g.display="inline-block",g.position="relative",g.width=g.height="0",g.cssFloat=m.cssFloat;var h=_.getBoundingClientRect();_.appendChild(l),f.position="absolute",f.top=a.top-h.top+"px",f.left=a.left-h.left+"px"}}else s.appendChild(l),f.position="absolute",f.left=a.left+c.scrollLeft+s.scrollLeft+"px",f.top=a.top+c.scrollTop+s.scrollTop+"px";f.overflow="hidden",f.pointerEvents="none",f.width=a.width+"px",f.height=a.height+"px",f.zIndex=""+((parseInt(m.zIndex,10)||0)+1),f.opacity=r.opacity,w(f,m,["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","webkitClipPath","clipPath"]);var b=Math.max(i-a.left,a.right-i),y=Math.max(o-a.top,a.bottom-o),v=Math.sqrt(b*b+y*y),E=l.appendChild(document.createElement("div")),k=E.style;return E.className=r.className,k.backgroundColor=r.color,k.width=k.height=2*v+"px",k.marginLeft=i-a.left-v+"px",k.marginTop=o-a.top-v+"px",k.borderRadius="50%",k.transition="transform "+r.spreadingDuration+" "+r.spreadingTimingFunction+" "+r.spreadingDelay+",opacity "+r.clearingDuration+" "+r.clearingTimingFunction+" "+r.clearingDelay,k.transform="scale(0)",E.offsetTop,E.addEventListener("transitionend",function(e){"opacity"===e.propertyName&&u.parentElement&&u.parentElement.removeChild(u)}),k.transform="",k.opacity="0",l}}function w(e,t,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];e[r]=t[r]}}},function(e,t,n){"use strict";function i(){return window.focus()}function o(e,t){var n=new Notification(e,t);return n.onclick=i,n}var r=document.getElementById("notifications-area"),a={playNotificationSound:function(){var e=new Audio;e.src="/static/sound/light.mp3",e.autoplay=!0},sendNotification:function(t,e){var n=Notification.permission,i=function(e,t){return{title:e,body:t,dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"}}(t,e);"Notification"in window&&("granted"===n?o(t,i):"denied"!==n&&Notification.requestPermission(function(e){"granted"===e&&o(t,i)}))},sendInside:function(e){var t=document.createElement("div"),n=document.createElement("p");n.innerText=e,t.appendChild(n),t.className="notification",r.insertBefore(t,r.firstElementChild),a.playNotificationSound(),setTimeout(function(){t.classList.add("hidden"),setTimeout(function(){t.remove()},300)},1200)},clear:function(){for(;0<r.children.length;)r.removeChild(r.firstChild)}};t.a=a},function(e,t,n){"use strict";function i(e,t,n){var i=2<arguments.length&&void 0!==n?n:{expires:31622400},o=i.expires;if("number"==typeof o&&o){var r=new Date;r.setTime(r.getTime()+1e3*o),o=i.expires=r}o&&o.toUTCString&&(i.expires=o.toUTCString()),t=encodeURIComponent(t);var a="".concat(e,"=").concat(t);for(var c in i){var s=i[c];a+="; ".concat(c),!0!==s&&(a+="=".concat(s))}document.cookie=a}var o={cookie:{year:31622400,set:i,delete:function(e){i(e,"",{expires:-1})}},tools:{selectTxt:function(e){e.focus(),e.select()},isUrlValid:function(e){return e=encodeURI(e),/\.(jpg|jpeg|png|gif|webp|svg)$/.test(e)&&/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)/.test(e)}}};t.a=o},function(e,t,n){"use strict";function i(){var e=document.getElementsByClassName("name"),t=Array.from(document.getElementsByClassName("cost")).map(function(e){return Number(e.value)}),n=Math.max.apply(null,t);if(n){var i=e[t.indexOf(n)].value;return i||null}}var o=n(1),r=n(4),a=document.getElementById("modal"),c=document.getElementById("modal-overlay"),s=document.getElementById("timer"),l=function(e){return u(d(e))},u=function(e){var t=e?"победил":null===e?"победила":"победил";return"".concat(m(e)," ").concat(t,"!")},d=function(e){return e?(e=(e=Object(r.b)(Object(r.c)(e))).length<20?e:"".concat(e.substr(0,20),"..."),JSON.stringify(e)):e},m=function(e){return e||(null===e?"Пустая позиция":"Никто не")},f={show:function(e){e=e||l(i()),window.isBuy?(e=window.buyWinner,a.querySelector("p").innerText="".concat(e," выкупили, аж за ").concat(window.buyCost,"₽ Pog!"),document.title="".concat(e," выкупили!"),o.a.sendNotification("Аукцион окончен!","Выкупили ".concat(e))):(a.querySelector("p").innerText=e,o.a.sendNotification("Аукцион окончен!",e),document.title=e),s.classList.remove("danger"),o.a.playNotificationSound(),c.classList.toggle("closed"),a.classList.toggle("closed"),c.onclick=function(){a.classList.toggle("closed"),c.classList.toggle("closed"),document.title="WoodsAuc"}},return:i,compile:l,addEnding:u,decorate:d,humanize:m};t.a=f},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o});var i=function(e){return e.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()})},o=function(e){return e.replace(/\s+/g," ")},r=function(e){return e.replace(/\s+$|^\s+/g,"")}},function(module,__webpack_exports__,__webpack_require__){"use strict";var ripplet_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_notifications__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_settings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_winner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_stringUtilities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),firstBlock=document.querySelector(".block"),firstName=firstBlock.querySelector(".name"),firstCost=firstBlock.querySelector(".cost"),firstKpLink=firstBlock.querySelector(".kp-link"),firstClearRowBtn=firstBlock.querySelector(".btn"),buyBlock=document.querySelector(".block-buy"),buyText=document.querySelector(".block-buy span"),buyInput=buyBlock.querySelector(".cost-buy"),buyClear=buyBlock.querySelector(".btn"),buyCookie=getCookie("buyCost"),modalOverlay=document.getElementById("modal-overlay"),modal=document.getElementById("modal"),stopBtn=document.getElementById("stop-btn"),addBtn=document.getElementById("add-btn"),resetButton=document.getElementById("reset-icon"),area=document.getElementById("candidates-area"),defaultSize=16.2,defaultMargin=2.6,highestMargin=35.25,maxSize=defaultSize,maxMargin=defaultMargin;function sortCandidates(){var e=Array.from(document.getElementsByClassName("name")),s=Array.from(document.getElementsByClassName("cost")),l=[];e.forEach(function(e,t){var n=s[t],i=e.value,o=Number(n.value),r=e.getAttribute("title"),a=n.getAttribute("title"),c=e.parentElement.parentElement.querySelector(".kp-link").href;l.push({nameVal:i,costVal:o,nameTitle:r,costTitle:a,link:c})}),l=l.sort(function(e,t){return e.costVal-t.costVal}).reverse(),e.forEach(function(e,t){var n=l[t],i=n.costVal;i=i?Number(i):"",e.value=n.nameVal,s[t].value=i,e.setAttribute("title",n.nameTitle),s[t].setAttribute("title",n.costTitle),e.parentElement.parentElement.querySelector(".kp-link").href=n.link})}function clearFirstRow(){firstName.value="",firstCost.value="",firstName.setAttribute("title","Фильм, игра, etc"),firstCost.setAttribute("title","Сумма"),firstKpLink.href="https://www.kinopoisk.ru",changeSize(firstName),sortCandidates()}function createBlock(){var e=firstBlock.cloneNode(!0),t=e.querySelector(".name"),n=e.querySelector(".cost"),i=e.querySelector(".kp-link"),o=e.querySelector(".btn"),r=o.querySelector("img");t.value="",n.value="",t.setAttribute("title","Фильм, игра, etc"),n.setAttribute("title","Сумма"),i.setAttribute("title","Кинопоиск"),i.setAttribute("href","https://www.kinopoisk.ru"),r.setAttribute("src","/static/img/icons/material/delete.svg"),t.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),n.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),i.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),o.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),o.onclick=function(){removeRow(this)},t.onkeyup=function(){createLink(this),changeSize(this)},t.onchange=function(){changeSize(this)},n.onchange=function(){checksum(this),checkOnBuy(this),changeTitle(this),sortCandidates()},area.insertBefore(e,area.lastElementChild),t.focus(),e.classList.add("visible"),Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a)(arguments[0])}function removeRow(e){var t=document.getElementsByClassName("name");e.parentElement.parentElement.remove(),1!==t.length||t[0].value||(maxSize=defaultSize,t[0].removeAttribute("style"),addBtn.removeAttribute("style"),buyText.removeAttribute("style"))}function changeTitle(e){var t=e.value?": ".concat(e.value," ₽"):"";e.setAttribute("title","Сумма".concat(t))}function checksum(costEl){var calc=costEl.value.replace(/[^\d+*/,.-]/g,"").replace(/,/,".");try{calc=eval(calc),isNaN(calc)||!isFinite(calc)?costEl.value="":(calc=calc<=0?"":Number(Number(calc).toFixed(2)),costEl.value=calc)}catch(e){costEl.value=""}}function checkOnBuy(e){var t=Number(buyInput.value),n=Number(e.value),i=_winner__WEBPACK_IMPORTED_MODULE_3__.a.decorate(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.b)(e.previousElementSibling.value));!t||!i||n<t||(window.started?(window.isBuy=!0,window.buyWinner=i,window.buyCost=n,stopBtn.click()):(modalOverlay.onclick=function(){modal.classList.add("closed"),modalOverlay.classList.add("closed"),document.title="WoodsAuc"},modal.querySelector("p").innerText="".concat(i," выкупили, аж за ").concat(n,"₽ Pog!"),modalOverlay.classList.remove("closed"),modal.classList.remove("closed"),_notifications__WEBPACK_IMPORTED_MODULE_1__.a.playNotificationSound(),_notifications__WEBPACK_IMPORTED_MODULE_1__.a.sendNotification("Аукцион окончен!","Выкупили ".concat(i,"!")),document.title="".concat(i," выкупили!")))}function changeSize(e){var t,n,i=Array.from(document.getElementsByClassName("name")),o=e.value.length-10;0<o?(t=Number((defaultSize+2.1*o).toFixed(2)),n=Number((defaultMargin+2.1*o).toFixed(2)),n=highestMargin<n?highestMargin:n):1===i.length&&(maxSize=defaultSize,maxMargin=defaultMargin,i[0].removeAttribute("style"),addBtn.removeAttribute("style"),buyText.removeAttribute("style")),t&&maxSize<t&&(maxSize=t,maxMargin=n,i.forEach(function(e){return e.style.width="".concat(t,"vw")}),addBtn.style.width="".concat(t+10,"vw"),buyText.style.marginRight="".concat(n,"vw"))}function createLink(e){var t=e.value;t?(e.parentElement.parentElement.querySelector(".kp-link").href=encodeURI("https://www.kinopoisk.ru/s/type/all/find/".concat(t,"/")),e.setAttribute("title",Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.b)(_winner__WEBPACK_IMPORTED_MODULE_3__.a.decorate(t)))):(e.parentElement.parentElement.querySelector(".kp-link").href="https://www.kinopoisk.ru",e.setAttribute("title","Фильм, игра, etc"))}function trimValue(e){e.value=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.c)(e.value)}function oneSpacedValue(e){e.value=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.a)(e.value)}firstName.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstCost.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstKpLink.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstClearRowBtn.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),buyInput.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),buyClear.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),resetButton.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstName.onchange=function(){changeSize(this),trimValue(this)},firstName.onkeyup=function(){createLink(this),changeSize(this),oneSpacedValue(this)},firstCost.onchange=function(){checksum(this),checkOnBuy(this),changeTitle(this),sortCandidates()},firstClearRowBtn.onclick=clearFirstRow,addBtn.onclick=createBlock,resetButton.onclick=function(){for(;3<area.children.length;)area.children[area.children.length-2].remove();clearFirstRow()},buyInput.value=buyCookie||"",changeTitle(buyInput),buyClear.onclick=function(){buyInput.value="",buyInput.setAttribute("title","Сумма выкупа"),_settings__WEBPACK_IMPORTED_MODULE_2__.a.cookie.delete("buyCost")},buyInput.onchange=function(){checksum(this),changeTitle(this),this.value?_settings__WEBPACK_IMPORTED_MODULE_2__.a.cookie.set("buyCost",this.value):_settings__WEBPACK_IMPORTED_MODULE_2__.a.cookie.delete("buyCost")}},function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=(n(5),n(1)),a=n(2),c=navigator.userAgent.toLowerCase().includes("ff"),s=document.querySelector("body"),l=getCookie("bg-url"),u=document.getElementById("bg-url"),d=document.getElementById("save-bg-url-btn"),m=document.getElementById("clear-bg-url-btn"),f=document.getElementById("color-extractor"),p=getCookie("accent"),_=document.createElement("style");if(u.value=l||"",b(l),i=p?v(p,60).str:"rgba(243, 151, 39, .6)",o.b.color=i,o.b.clearingDuration=".3s",o.b.spreadingDuration=".3s",p){var g=v(y(p),70).str;_.innerText="",_.innerText+="#bg-url {color: ".concat(p,"}"),_.innerText+="#da-url {color: ".concat(p,"}"),_.innerText+=".danger {color: ".concat(p," !important}"),_.innerText+=".name {color: ".concat(p,"}"),_.innerText+=".cost {color: ".concat(p,"}"),_.innerText+=".cost-buy {color: ".concat(p,"}"),_.innerText+="input:focus {--accent: ".concat(p," !important; --shadow: ").concat(g,"}"),_.innerText+="::selection {background: ".concat(g,"}"),_.innerText+="::-moz-selection {background: ".concat(g,"}"),document.head.appendChild(_)}else{var h=document.createElement("style");h.innerText="",h.innerText+="#bg-url {color: #f39727}",h.innerText+="#da-url {color: #f39727}",h.innerText+=".danger {color: #f39727} !important",h.innerText+=".name {color: #f39727}",h.innerText+=".cost {color: #f39727}",h.innerText+=".cost-buy {color: #f39727}",h.innerText+="input:focus {--accent: #f39727; --shadow: rgba(243, 151, 39, .7)}",h.innerText+="::selection {background: rgba(243, 151, 39, .7)}",h.innerText+="::-moz-selection {background: rgba(243, 151, 39, .7)}"}function b(e){var t=new Image;if(e)return t.src=e,void(t.onload=function(){return s.style.backgroundImage="url('".concat(t.src,"')")});s.style.backgroundImage="url('/static/img/bg/tree.".concat(c?"jpg":"webp","')")}function y(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16),i=parseInt(t[2],16),o=parseInt(t[3],16);return t?{rgb:{r:n,g:i,b:o},str:"rgb(".concat(n,", ").concat(i,", ").concat(o)}:null}function v(e,t){var n,i,o,r=t<=1?t:t/100;return o="string"==typeof e?(n=(e=y(e).rgb).r,i=e.g,e.b):(n=e.rgb.r,i=e.rgb.g,e.rgb.b),e?{rgba:{r:n,g:i,b:o,a:r},str:"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(r,")")}:null}u.addEventListener("click",o.a),m.addEventListener("click",o.a),d.addEventListener("click",o.a),u.onclick=function(){a.a.tools.selectTxt(this)},m.onclick=function(){u.value||getCookie("bg-url")?(b(""),u.value="",o.b.color="rgba(243, 151, 39, .6)",_.innerText="",_.innerText+="#bg-url {color: #f39727}",_.innerText+="#da-url {color: #f39727}",_.innerText+=".danger {color: #f39727 !important}",_.innerText+=".name {color: #f39727}",_.innerText+=".cost {color: #f39727}",_.innerText+=".cost-buy {color: #f39727}",_.innerText+="input:focus {--accent: #f39727; --shadow: rgba(243, 151, 39, .7)}",_.innerText+="::selection {background: rgba(243, 151, 39, .7)}",_.innerText+="::-moz-selection {background: rgba(243, 151, 39, .7)}",document.head.appendChild(_),a.a.cookie.delete("bg-url"),a.a.cookie.delete("accent"),r.a.sendInside("Фон сброшен")):r.a.sendInside("Фон уже сброшен")},d.onclick=function(){var n=u.value;n?n!==getCookie("bg-url")?a.a.tools.isUrlValid(n)?(b(n),r.a.sendInside("Фон обновлен"),f.setAttribute("src","https://cors-anywhere.herokuapp.com/".concat(n)),f.addEventListener("load",function(){var e=new Vibrant(this).swatches().Vibrant.getHex(),t=v(y(e),60).str;o.b.color=t,_.innerText="",_.innerText+="#bg-url {color: ".concat(e,"}"),_.innerText+="#da-url {color: ".concat(e,"}"),_.innerText+=".danger {color: ".concat(e," !important}"),_.innerText+=".name {color: ".concat(e,"}"),_.innerText+=".cost {color: ".concat(e,"}"),_.innerText+=".cost-buy {color: ".concat(e,"}"),_.innerText+="input:focus {--accent: ".concat(e,"; --shadow: ").concat(t,"}"),_.innerText+="::selection {background: ".concat(e,"}"),_.innerText+="::-moz-selection {background: ".concat(e,"}"),document.head.appendChild(_),a.a.cookie.set("bg-url",n),a.a.cookie.set("accent",e)})):r.a.sendInside("Введите корректный URL"):r.a.sendInside("Этот фон уже установлен"):r.a.sendInside("Нет URL фона")};var E=n(3);function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.innerHTML.split(":");this.elem=e,this.m=+t[0],this.s=+t[1],this.ms=+t[2],this.time=new Date(6e4*this.m+1e3*this.s+this.ms),this.started=!1,this.timeStart=new Date}return function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(n,[{key:"start",value:function(){var e=this;this.started||(this.m?(this.timeStart=new Date,this.m--,this.started=!0,window.started=!0,requestAnimationFrame(function(){return e.updateTimer()})):E.a.show())}},{key:"reset",value:function(){this.elem.innerHTML="00:00:00",this.m=0,this.time=new Date(0)}},{key:"stop",value:function(){this.reset(),this.started=!1,window.started=!1,cancelAnimationFrame(this.updateTimer)}},{key:"minusOne",value:function(){this.m&&(this.m--,this.started?this.timeStart.setMinutes(this.timeStart.getMinutes()-1):(this.m=this.m<0?0:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),timer.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00")))}},{key:"plusOne",value:function(){this.started?59!==this.m&&(this.timeStart.setMinutes(this.timeStart.getMinutes()+1),this.m++):(this.m++,this.m=59<this.m?59:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),timer.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00"))}},{key:"plusTwo",value:function(){this.started?58===this.m?(this.timeStart.setMinutes(this.timeStart.getMinutes()+1),this.m++):this.m<58&&(this.timeStart.setMinutes(this.timeStart.getMinutes()+2),this.m+=2):(this.m+=2,this.m=59<this.m?59:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),timer.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00"))}},{key:"updateTimer",value:function(){var e,t=this,n=new Date,i=new Date(n-this.timeStart),o=new Date(this.time-i),r=document.title,a=o.getMinutes(),c=o.getSeconds(),s=o.getMilliseconds(),l=E.a.return();this.m=a,this.s=c,this.ms=s,!a&&c<31&&!this.elem.classList.contains("danger")?this.elem.classList.add("danger"):this.elem.classList.contains("danger")&&(a||31<c)&&this.elem.classList.remove("danger"),l?r===(e="".concat(E.a.decorate(l)," лидирует!"))&&"WoodsAuc"!==r||(document.title=e):"WoodsAuc"!==r&&(document.title="WoodsAuc"),!a&&!c&&s<300||this.time<i?(this.stop(),E.a.show(E.a.compile(l))):(a=a<10?"0".concat(a):a,c=c<10?"0".concat(c):c,s=s<10?"0".concat(s):s,s=String(s).substr(0,2),this.elem.innerHTML="".concat(a,":").concat(c,":").concat(s),requestAnimationFrame(function(){return t.updateTimer()}))}}]),n}(),w=getCookie("previousMinutes"),B=document.getElementById("timer");w&&(B.innerHTML="".concat(w,":00:00"));var x=new T(B),M=Array.from(document.getElementById("timer-btns").children),C=document.getElementById("start-btn"),L=document.getElementById("stop-btn"),O=document.getElementById("plus-btn"),I=document.getElementById("plus-two-btn"),D=document.getElementById("minus-btn");M.forEach(function(e){return e.addEventListener("click",o.a)});var S=document.getElementById("modal-overlay");S.addEventListener("click",o.a),document.onkeydown=function(e){S.classList.contains("closed")||"Escape"!==e.key||S.click()},C.onclick=function(){var e=B.innerHTML.split(":")[0];e&&a.a.cookie.set("previousMinutes",e),x.start()},L.onclick=function(){x.started?(x.timeStart=new Date(new Date-x.time+300),r.a.clear(),x.stop()):x.reset()},O.onclick=function(){return x.plusOne()},I.onclick=function(){return x.plusTwo()},D.onclick=function(){return x.minusOne()};var P=document.getElementById("settings-icon"),A=document.getElementById("settings");P.onclick=function(){Object(o.a)(arguments[0]),A.classList.toggle("closed")};var R=document.getElementById("da-url"),N=document.getElementById("save-da-url-btn"),U=document.getElementById("clear-da-url-btn"),j=getCookie("token");R.onclick=function(){Object(o.a)(arguments[0]),a.a.tools.selectTxt(this)},R.value=j||"",N.onclick=function(){Object(o.a)(arguments[0]);var e=R.value;a.a.cookie.set("token",e);var t=document.getElementById("notifications-area"),n=document.createElement("div");n.className="notification",n.innerHTML='<p title="Токен сохранен">Токен сохранен</p>',t.insertBefore(n,t.firstElementChild),r.a.playNotificationSound(),setTimeout(function(){n.classList.add("hidden"),setTimeout(function(){n.remove(),location.reload()},300)},800)},U.onclick=function(){Object(o.a)(arguments[0]),R.value="",a.a.cookie.delete("token");var e=document.getElementById("notifications-area"),t=document.createElement("div");t.className="notification",t.innerHTML='<p title="Токен удален">Токен удален</p>',e.insertBefore(t,e.firstElementChild),r.a.playNotificationSound(),setTimeout(function(){t.classList.add("hidden"),setTimeout(function(){t.remove(),location.reload()},300)},800)};for(var W=document.getElementsByClassName("special-url"),q=0;q<W.length;q++)W[q].onclick=function(){Object(o.a)(arguments[0])};"default"===Notification.permission&&Notification.requestPermission()}]);