var woodsauc=function(n){var i={};function c(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=n,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c(c.s=3)}([function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return c});var i=function(t){return t.replace(/(^|\s)\S/g,function(t){return t.toUpperCase()})},c=function(t){return o(t).replace(/\s+/g," ")},o=function(t){return t.replace(/\s+$|^\s+/g,"")}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});function i(){window.focus()}function c(t,e){var n=new Notification(t,e);return n.onclick=i,n}var o=function(){var t=new Audio;t.src="/static/sound/light.mp3",t.autoplay=!0},a=function(e,n){var t=Notification.permission;"Notification"in window&&("granted"===t?c(e,n):"denied"!==t&&Notification.requestPermission(function(t){"granted"===t&&c(e,n)}))}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _notifications__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_stringUtilities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),firefox=navigator.userAgent.toLowerCase().includes("firefox");firefox&&!getCookie("bg-url")&&(document.querySelector("body").style.backgroundImage="url('/static/img/bg/tree.jpg')");var defaultSize=16.2,defaultMargin=2.6,highestMargin=35.4,maxSize=defaultSize,maxMargin=defaultMargin,styleForSize=document.createElement("style");function changeSize(t){var e,n,i=t.value.length-10,c=document.getElementsByClassName("name");0<i?(e=+(e=defaultSize+2.1*i).toFixed(2),n=(n=defaultMargin+2.1*i).toFixed(2),n=highestMargin<n?highestMargin:n):1===c.length&&(maxSize=defaultSize,maxMargin=defaultMargin,styleForSize.innerText=".name{width:".concat(defaultSize,"vw}#add-btn{width:").concat(defaultSize+10,"vw}.block-buy span{margin-right:").concat(defaultMargin,"vw}")),e&&maxSize<e&&(maxSize=e,maxMargin=n,styleForSize.innerText=".name{width:".concat(e,"vw}#add-btn{width:").concat(e+10,"vw!important}.block-buy span{margin-right:").concat(n,"vw!important}"))}styleForSize.appendChild(document.createTextNode(".name{width:".concat(defaultSize,"vw}"))),document.head.appendChild(styleForSize);var started=!1,startTime;try{var socket=io("https://socket.donationalerts.ru:443",{reconnection:!1}),token=getCookie("token");token&&socket.emit("add-user",{token:token,type:"minor"}),socket.on("donation",function(t){if(started){var u=JSON.parse(t);1!==u.alert_type&&"1"!==u.alert_type||function(){var c=u.message;c=c.replace(/\s+/g," ");for(var o=+u.amount,a=document.getElementsByClassName("name"),r=document.getElementsByClassName("cost"),t=document.getElementById("notifications-area"),e=!1,n=0;n<Math.min(a.length,r.length);n++){var s=a[n].value;if(s&&c.toLowerCase().includes(s.toLowerCase()))if("break"===function(){var i=document.createElement("div");return i.className="notification",i.innerHTML='<p></p>\n                        <button class="notification-btn" type="button" title="Подтвердить">\n                            <img src="/static/img/icons/material/done.svg" alt="Иконка подтверждения">\n                        </button>\n                        <button class="notification-btn" type="button" title="Отклонить">\n                            <img src="/static/img/icons/material/clear.svg" alt="Иконка очистки">\n                        </button>',i.children[0].innerText="Добавить ₽".concat(o,' к "').concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(s)),'"?'),i.children[0].setAttribute("title","Добавить ₽".concat(o,' к "').concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(s)),'"?')),i.children[1].onclick=function(){ripplet(arguments[0]),r=document.getElementsByClassName("cost"),a=document.getElementsByClassName("name");for(var t=0;t<Math.min(a.length,r.length);t++){var e=a[t].value,n=+r[t].value;e&&c.toLowerCase().includes(e.toLowerCase())&&(r[t].value=o+n,checkOnBuy(r[t]),sortCandidates(),changeTitle(r[t]),i.classList.add("hidden"),setTimeout(function(){i.remove()},300))}},i.children[2].onclick=function(){ripplet(arguments[0]),i.classList.add("hidden"),setTimeout(function(){i.remove()},300)},t.insertBefore(i,t.firstElementChild),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)(),e=!0,"break"}())break}if(!e){var i=document.createElement("div");i.className="notification",i.innerHTML='<p></p>\n                    <button class="notification-btn" type="button" title="Подтвердить">\n                        <img src="/static/img/icons/material/done.svg" alt="Иконка подтверждения">\n                    </button>\n                    <button class="notification-btn" type="button" title="Отклонить">\n                        <img src="/static/img/icons/material/clear.svg" alt="Иконка очистки">\n                    </button>',i.children[0].innerText='Создать "'.concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(c)),'" с ₽').concat(o,"?"),i.children[0].setAttribute("title",'Создать "'.concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(c)),'" с ₽').concat(o,"?")),i.children[1].onclick=function(){ripplet(arguments[0]);var t=document.createElement("div");t.className="block",t.innerHTML='<label>\n                           <input class="name" type="text" autocomplete="off"\n                           onkeyup="createLink(this);changeSize(this)" onchange="changeSize(this)"\n                           placeholder="Позиция" spellcheck="false" onclick="ripplet(arguments[0])">\n                           <input onclick="ripplet(arguments[0])" class="cost" type="text" min="0" step="10" \n                             onchange="changeTitle(this);checksum(this);sortCandidates()" \n                             placeholder="₽" value="'.concat(o,'" autocomplete="off">\n                         </label>\n                         <span>\n                         <a href="https://www.kinopoisk.ru" target="_blank" class="kp-link"\n                           onclick="ripplet(arguments[0])" title="Ссылка на кинопоиск">\n                           <img src="/static/img/icons/material/video-library.svg" \n                           alt="Иконка ссылки на кинопоиск"></a>\n                         <button type="button" class="btn" \n                         onclick="ripplet(arguments[0]);removeRow(this)" title="Удалить">\n                           <img src="/static/img/icons/material/delete.svg" alt="Иконка удаления">\n                         </button>\n                         </span>'),t.children[0].children[0].value=c,t.children[0].children[0].setAttribute("title",c),t.children[0].children[1].setAttribute("title","Сумма: ".concat(o," ₽")),changeSize(t.children[0].children[0]),checkOnBuy(t.children[0].children[1]),candidatesArea.insertBefore(t,candidatesArea.lastElementChild),sortCandidates(),setTimeout(function(){t.classList.add("visible")},20);for(var e=0;e<a.length;e++)createLink(a[e]);i.classList.add("hidden"),setTimeout(function(){i.remove()},300)},i.children[2].onclick=function(){ripplet(arguments[0]),i.classList.add("hidden"),setTimeout(function(){i.remove()},300)},t.insertBefore(i,t.firstElementChild),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)()}var l=c.replace(/\s+$/,"");l=30<l.length?"".concat(l.substr(0,30),"..."):l,Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.b)("Новое пожертвование".concat(u.username?" от ".concat(u.username):"","!"),{body:'"'.concat(l,'" с ').concat(o,"₽"),dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})}()}})}catch(t){console.log("Нет подключения, автодобавление не будет работать.")}function returnWinner(){for(var t=void 0,e=null,n=document.getElementsByClassName("name"),i=document.getElementsByClassName("cost"),c=0;c<Math.min(n.length,i.length);c++){var o=n[c].value,a=+i[c].value;e<a&&(e=a,t=o||t)}return e&&(t=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(t)),t?'"'.concat(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(t),'"'):"Никто не "}function showWinner(){var t=document.querySelector("#modal"),e=document.querySelector("#modal-overlay");timer.classList.remove("danger"),e.onclick=function(){ripplet(arguments[0]),t.classList.toggle("closed"),e.classList.toggle("closed"),document.title="Аукцион β"};var n=returnWinner();isBuy?(t.children[0].innerText='"'.concat(buyWinner,'" выкупили, аж за ').concat(buyCost,"₽ Pog!"),document.title=30<buyWinner.length?"".concat(buyWinner.substring(0,30),"... выкупили!"):"".concat(buyWinner," выкупили!"),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.b)("Аукцион окончен!",{body:'Выкупили "'.concat(30<buyWinner.length?"".concat(buyWinner.substring(0,30),"..."):buyWinner,'"!'),dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})):(t.children[0].innerText="".concat(n," победил!"),document.title=30<n.length?"".concat(n.substring(0,30),"... победил!"):"".concat(n," победил!"),"Никто не "===n?Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.b)("Аукцион окончен!",{body:"Никто не победил :(",dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"}):Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.b)("Аукцион окончен!",{body:"Победа ".concat(30<n.length?"".concat(n.substring(0,30),'..."'):n,"!"),dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})),e.classList.toggle("closed"),t.classList.toggle("closed"),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)()}var timer=document.getElementById("timer"),minsCookie=getCookie("previousMinutes");minsCookie&&(timer.innerHTML="".concat(minsCookie,":00:00"));var timerArray=timer.innerHTML.split(":"),m=+timerArray[0],s=+timerArray[1],ms=+timerArray[2],timerTime=new Date(6e4*m+1e3*s+ms);function updateTimer(){var t=new Date,e=new Date(t-startTime),n=new Date(timerTime-e),i=n.getMinutes(),c=n.getSeconds(),o=n.getMilliseconds();!i&&c<30?timer.classList.add("danger"):timer.classList.remove("danger");var a=returnWinner();"Никто не "!==a?(a=30<a.length?"".concat(a.substr(0,30),'..."'):a,document.title="".concat(a," - Аукцион β")):document.title="Аукцион β",!i&&!c&&o<300||timerTime<e?(cancelAnimationFrame(updateTimer),timer.innerHTML="00:00:00",showWinner(),started=!1):(i=i<10?"0".concat(i):i,c=c<10?"0".concat(c):c,o=o<10?"0".concat(o):o,o=String(o).substr(0,2),timer.innerHTML="".concat(i,":").concat(c,":").concat(o),requestAnimationFrame(updateTimer))}function startTimer(){var t=+timer.innerHTML.split(":")[0];started||(t?(startTime=new Date,requestAnimationFrame(updateTimer),started=!0):showWinner())}var startBtn=document.getElementById("start-btn"),resetBtn=document.getElementById("stop-btn"),plusBtn=document.getElementById("plus-btn"),plusTwoBtn=document.getElementById("plus-two-btn"),minusBtn=document.getElementById("minus-btn");function sortCandidates(){for(var t=[],e=document.getElementsByClassName("name"),n=document.getElementsByClassName("cost"),i=0;i<Math.min(e.length,n.length);i++){var c=e[i].value,o=+n[i].value,a=e[i].getAttribute("title"),r=n[i].getAttribute("title"),s=e[i].parentNode.parentNode.children[1].children[0].href;t.push({name:c,cost:o,titleName:a,titleCost:r,link:s})}t=t.sort(function(t,e){return t.cost-e.cost}).reverse();for(var l=0;l<Math.min(e.length,n.length);l++){var u=t[l].cost;n[l].value=0===u?"":u,e[l].value=t[l].name,e[l].setAttribute("title",t[l].titleName),n[l].setAttribute("title",t[l].titleCost),e[l].parentNode.parentNode.children[1].children[0].href=t[l].link}}function clearRow(){var t=document.getElementById("candidates-area"),e=t.children[1].children[0],n=t.children[1].children[1].children[0];e.children[0].value="",e.children[1].value="",e.children[0].setAttribute("title","Фильм, игра, etc"),e.children[1].setAttribute("title","Сумма"),n.href="https://www.kinopoisk.ru",changeSize(e.children[0])}function removeRow(e){setTimeout(function(){try{e.parentNode.parentNode.parentNode.removeChild(e.parentNode.parentNode)}catch(t){}var t=document.getElementsByClassName("name");1!==t.length||t[0].value||(maxSize=defaultSize,styleForSize.innerText=".name{width:".concat(defaultSize,"vw}#add-btn{width:").concat(defaultSize+10,"vw}"))},200)}function createLink(t){t.value=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.a)(t.value);var e=t.value;e?(t.parentNode.parentNode.children[1].children[0].href=encodeURI("https://www.kinopoisk.ru/s/type/all/find/".concat(e,"/")),t.setAttribute("title",Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(e))):(t.parentNode.parentNode.children[1].children[0].href="https://www.kinopoisk.ru",t.setAttribute("title","Фильм, игра, etc"))}startBtn.onclick=function(){var t=timer.innerHTML.split(":")[0];ripplet(arguments[0]),t&&setCookie("previousMinutes",t,{expires:year}),startTimer()},resetBtn.onclick=function(){if(ripplet(arguments[0]),started){startTime=new Date(new Date-timerTime+300);for(var t=document.getElementById("notifications-area");0<t.children.length;)t.removeChild(t.firstChild);started=!1}else m=0,timerTime=new Date(0),timer.innerHTML="00:00:00"},plusBtn.onclick=function(){ripplet(arguments[0]);var t,e=+(timerArray=timer.innerHTML.split(":"))[0];started?59!=e&&startTime.setMinutes(startTime.getMinutes()+1):(m=59<(m=+timerArray[0]+1)?59:m,timerTime=new Date(6e4*m+1e3*s+ms),t=m<10?"0".concat(m):m,timer.innerHTML="".concat(t,":00:00"))},plusTwoBtn.onclick=function(){ripplet(arguments[0]);var t,e=+(timerArray=timer.innerHTML.split(":"))[0];started?58==e?startTime.setMinutes(startTime.getMinutes()+1):e<58&&startTime.setMinutes(startTime.getMinutes()+2):(m=59<(m=+timerArray[0]+2)?59:m,timerTime=new Date(6e4*m+1e3*s+ms),t=m<10?"0".concat(m):m,timer.innerHTML="".concat(t,":00:00"))},minusBtn.onclick=function(){var t,e=+timer.innerHTML.split(":")[0];ripplet(arguments[0]),e&&(started?startTime.setMinutes(startTime.getMinutes()-1):(timerArray=timer.innerHTML.split(":"),m=+timerArray[0]-1,timerTime=new Date(6e4*m+1e3*s+ms),t=m<10?"0".concat(m):m,timer.innerHTML="".concat(t,":00:00")))};var addBtn=document.getElementById("add-btn"),candidatesArea=document.getElementById("candidates-area");function setCookie(t,e,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var c=new Date;c.setTime(c.getTime()+1e3*i),i=n.expires=c}i&&i.toUTCString&&(n.expires=i.toUTCString()),e=encodeURIComponent(e);var o="".concat(t,"=").concat(e);for(var a in n){o+="; "+a;var r=n[a];!0!==r&&(o+="="+r)}document.cookie=o}function changeBG(t){var e=document.querySelector("body"),n=new Image;t&&""!==t?(n.onload=function(){e.style.backgroundImage="url(".concat(n.src,")")},n.src=t):e.style.backgroundImage=firefox?"url('/static/img/bg/tree.jpg')":"url('/static/img/bg/tree.webp')"}function sheet(t){var e=document.createElement("style");return e.appendChild(document.createTextNode(t)),document.head.appendChild(e),e}function textSelect(t){t.focus(),t.select()}addBtn.onclick=function(){var t=document.createElement("div");t.className="block",t.innerHTML='<label>\n           <input class="name" type="text" onkeyup="createLink(this);changeSize(this)"  onchange="changeSize(this)"\n             onclick="ripplet(arguments[0])" title="Фильм, игра, etc" autocomplete="off" placeholder="Позиция" spellcheck="false">\n           <input class="cost" type="text" min="0" step="10" placeholder="₽" title="Сумма"\n             onclick="ripplet(arguments[0])" onchange="changeTitle(this);checksum(this);sortCandidates();checkOnBuy(this)" autocomplete="off">\n         </label>\n         <span>\n         <a href="https://www.kinopoisk.ru" target="_blank" class="kp-link" \n           onclick="ripplet(arguments[0])" title="Ссылка на кинопоиск">\n           <img src="static/img/icons/material/video-library.svg" alt="Иконка ссылки на кинопоиск"></a>\n         <button type="button" class="btn" \n           onclick="ripplet(arguments[0]);removeRow(this)" title="Удалить">\n           <img src="/static/img/icons/material/delete.svg" alt="Иконка удаления">\n         </button>\n        </span>',candidatesArea.insertBefore(t,candidatesArea.lastElementChild),ripplet(arguments[0]),setTimeout(function(){t.classList.add("visible")},10),t.children[0].children[0].focus(),sortCandidates()};var showSettingsBtn=document.getElementById("settings-icon"),settingsWindow=document.getElementById("settings"),saveBGURLBtn=document.getElementById("save-bg-url-btn"),clearBGURLBtn=document.getElementById("clear-bg-url-btn"),bgURLInput=document.getElementById("bg-url"),colorExctractor=document.getElementById("color-extractor"),year=31622400,bgURL=getCookie("bg-url"),styleElement;function hexToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}bgURLInput.onclick=function(){ripplet(arguments[0]),textSelect(this)},showSettingsBtn.onclick=function(){ripplet(arguments[0]),settingsWindow.classList.toggle("closed")};var colorCookie=getCookie("accent"),color;if(ripplet.defaultOptions.clearingDuration=".3s",ripplet.defaultOptions.spreadingDuration=".3s",colorCookie){var rgb=hexToRgb(colorCookie);color="rgba(".concat(rgb.r,", ").concat(rgb.g,", ").concat(rgb.b,", .6)")}else color="rgba(243, 151, 39, .6)";if(ripplet.defaultOptions.color=color,colorCookie&&""!==colorCookie){var accentShadow=hexToRgb(colorCookie);accentShadow="rgba(".concat(accentShadow.r,", ").concat(accentShadow.g,", ").concat(accentShadow.b,", 0.7)"),styleElement=sheet(".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:".concat(colorCookie,"!important}\ninput:focus{--accent:").concat(colorCookie,"!important;--shadow:").concat(accentShadow,"!important}\n::selection{background:").concat(accentShadow,"!important}::-moz-selection{background:").concat(accentShadow,"}!important"))}else styleElement=sheet(".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\ninput:focus{--accent:#f39727!important;--shadow:rgba(243, 151, 39, 0.7)!important}\n::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}");function isUrlWork(t){var e=new XMLHttpRequest;try{return e.open("HEAD",t,!1),e.send(),200===e.status}catch(t){return console.log(t),!1}}function isUrlValid(t){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/i.test(t)}function notification(t){var e=document.getElementById("notifications-area"),n=document.createElement("div"),i=document.createElement("p");i.innerText=t,i.setAttribute("title",t),n.appendChild(i),n.className="notification",e.insertBefore(n,e.firstElementChild),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)(),setTimeout(function(){n.classList.add("hidden"),setTimeout(function(){n.remove()},300)},1200)}saveBGURLBtn.onclick=function(){var n=bgURLInput.value;ripplet(arguments[0]),n?n===getCookie("bg-url")?notification("Этот фон уже установлен"):isUrlValid(n)?isUrlWork("https://cors-anywhere.herokuapp.com/".concat(n))?(changeBG(n),notification("Фон обновлен"),colorExctractor.setAttribute("src","https://cors-anywhere.herokuapp.com/".concat(n)),colorExctractor.addEventListener("load",function(){var t=new Vibrant(this).swatches().Vibrant.getHex(),e=hexToRgb(t);ripplet.defaultOptions.color="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", .6)"),e="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", .7)"),styleElement.innerText=".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:".concat(t,"!important}\n                            input:focus{--accent:").concat(t,"!important;--shadow:").concat(e,"!important}\n                            ::selection{background:").concat(e,"!important}::-moz-selection{background:").concat(e,"!important}"),setCookie("bg-url",n,{expires:year}),setCookie("accent",t,{expires:year})})):notification("URL неверный, или не отвечает"):notification("Введите корректный URL"):notification("Нет URL фона")},clearBGURLBtn.onclick=function(){ripplet(arguments[0]),bgURLInput.value?(changeBG(""),bgURLInput.value="",ripplet.defaultOptions.color="rgba(243, 151, 39, .6)",styleElement.innerText=".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\n            input:focus{--accent:#f39727!important;--shadow:rgba(243,151,39,.7)!important});\n            ::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}",setCookie("bg-url","",{expires:year}),setCookie("accent","",{expires:year}),notification("Фон сброшен")):notification("Фон уже сброшен")},changeBG(bgURL),bgURLInput.value=bgURL||"";var daURL=document.getElementById("da-url"),saveDAURLBtn=document.getElementById("save-da-url-btn"),clearDAURLBtn=document.getElementById("clear-da-url-btn"),tokenCookie=getCookie("token");function changeTitle(t){var e=t.value?": ".concat(t.value," ₽"):"";t.setAttribute("title","Сумма".concat(e))}daURL.onclick=function(){ripplet(arguments[0]),textSelect(this)},daURL.value=tokenCookie||"",saveDAURLBtn.onclick=function(){ripplet(arguments[0]),setCookie("token",daURL.value,{expires:year});var t=document.getElementById("notifications-area"),e=document.createElement("div");e.className="notification",e.innerHTML='<p title="Токен сохранен">Токен сохранен</p>',t.insertBefore(e,t.firstElementChild),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)(),setTimeout(function(){e.classList.add("hidden"),setTimeout(function(){e.remove(),location.reload()},300)},800)},clearDAURLBtn.onclick=function(){ripplet(arguments[0]),setCookie("token",daURL.value="",{expires:year});var t=document.getElementById("notifications-area"),e=document.createElement("div");e.className="notification",e.innerHTML='<p title="Токен удален">Токен удален</p>',t.insertBefore(e,t.firstElementChild),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)(),setTimeout(function(){e.classList.add("hidden"),setTimeout(function(){e.remove(),location.reload()},300)},800)},document.onkeydown=function(t){var e=document.getElementById("modal-overlay");e.classList.contains("closed")||"Escape"!==t.key||e.click()};var resetButton=document.getElementById("reset-icon");resetButton.onclick=function(){ripplet(arguments[0]);for(var t=document.getElementById("candidates-area");3<t.children.length;)t.removeChild(t.children[t.children.length-2]);clearRow()};for(var urlsBtns=document.getElementsByClassName("special-url"),i=0;i<urlsBtns.length;i++)urlsBtns[i].onclick=function(){ripplet(arguments[0])};function checksum(costElement){var calculated=costElement.value.replace(/[^\d+*/,.-]/g,"");calculated=calculated.replace(/,/,".");try{calculated=eval(calculated),isNaN(calculated)||!isFinite(calculated)?(costElement.value="",costElement.setAttribute("title","Сумма")):(calculated=0<calculated?+calculated.toFixed(2):"",costElement.value=calculated,costElement.setAttribute("title","Сумма: ".concat(calculated," ₽")))}catch(t){costElement.value="",costElement.setAttribute("title","Сумма")}}var costBuy=document.getElementsByClassName("cost-buy")[0],costBuyCookie=getCookie("buyCost"),costBuyClearBtn=document.querySelector(".block-buy .btn"),isBuy=!1,buyWinner,buyCost;function checkOnBuy(t){var e=+costBuy.value,n=+t.value,i=t.previousElementSibling,c=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.c)(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_1__.b)(i.value));if(e&&c&&e<=n)if(started)buyWinner=c,buyCost=n,isBuy=!0,resetBtn.click();else{var o=document.querySelector("#modal"),a=document.querySelector("#modal-overlay");a.onclick=function(){ripplet(arguments[0]),o.classList.toggle("closed"),a.classList.toggle("closed"),document.title="Аукцион β"},o.children[0].innerText='"'.concat(c,'" выкупили, аж за ').concat(n,"₽ Pog!"),document.title=30<c.length?"".concat(c.substring(0,30),'..." выкупили!'):"".concat(c," выкупили!"),o.classList.toggle("closed"),a.classList.toggle("closed"),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.a)(),Object(_notifications__WEBPACK_IMPORTED_MODULE_0__.b)("Аукцион окончен!",{body:'Выкупили "'.concat(30<c.length?"".concat(c.substring(0,30),"..."):c,'"!'),dir:"ltr",lang:"ru",icon:"/static/dist/img/favicon/favicon.png"})}}costBuy.value=costBuyCookie||"",changeTitle(costBuy),costBuy.onchange=function(){changeTitle(this),checksum(this),setCookie("buyCost",this.value,{expires:year})},costBuy.onclick=function(){ripplet(arguments[0])},costBuyClearBtn.onclick=function(){ripplet(arguments[0]),setCookie("buyCost",costBuy.value="",{expires:-1})},"default"===Notification.permission&&Notification.requestPermission()}]);