var firefox=navigator.userAgent.toLowerCase().includes("firefox");firefox&&!getCookie("bg-url")&&(document.querySelector("body").style.backgroundImage="url('/static/img/bg/tree.jpg')");function notificationSound(){var a=new Audio;a.src="/static/sound/light.mp3";a.autoplay=!0}var defaultSize=16.2,defaultMargin=2.6,highestMargin=35.4,maxSize=defaultSize,maxMargin=defaultMargin,styleForSize=document.createElement("style");styleForSize.appendChild(document.createTextNode(".name{width:"+defaultSize+"vw}"));
document.head.appendChild(styleForSize);
function changeSize(a){a=a.value.length-10;var b=document.getElementsByClassName("name");if(0<a){var d=defaultSize+2.1*a;d=+d.toFixed(2);var c=defaultMargin+2.1*a;c=c.toFixed(2);c=c>highestMargin?highestMargin:c}else 1===b.length&&(maxSize=defaultSize,maxMargin=defaultMargin,styleForSize.innerText=".name{width:"+defaultSize+"vw}#add-btn{width:"+(defaultSize+10)+"vw}.block-buy span{margin-right:"+defaultMargin+"vw}");d&&d>maxSize&&(maxSize=d,maxMargin=c,styleForSize.innerText=".name{width:"+d+"vw}#add-btn{width:"+
(d+10)+"vw!important}.block-buy span{margin-right:"+c+"vw!important}")}String.prototype.toTitle=function(){return this.replace(/(^|\s)\S/g,function(a){return a.toUpperCase()})};String.prototype.truncate=function(){return this.replace(/\s+$/,"").replace(/^\s+/,"")};var started=!1;
try{var socket=io("https://socket.donationalerts.ru:443",{reconnection:!1}),token=getCookie("token");token&&socket.emit("add-user",{token:token,type:"minor"});socket.on("donation",function(a){if(started&&(a=JSON.parse(a),1===a.alert_type||"1"===a.alert_type)){var b=a.message;b=b.replace(/\s+/g," ");for(var d=+a.amount,c=document.getElementsByClassName("name"),e=document.getElementsByClassName("cost"),f=document.getElementById("notifications-area"),l=!1,g={},p=0;p<Math.min(c.length,e.length);g={$jscomp$loop$prop$notification$0$15:g.$jscomp$loop$prop$notification$0$15},
p++){var n=c[p].value;if(n&&b.toLowerCase().includes(n.toLowerCase())){g.$jscomp$loop$prop$notification$0$15=document.createElement("div");g.$jscomp$loop$prop$notification$0$15.className="notification";g.$jscomp$loop$prop$notification$0$15.innerHTML='<p></p>\n                        <button class="notification-btn" type="button" title="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c">\n                            <img src="/static/img/icons/material/done.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f">\n                        </button>\n                        <button class="notification-btn" type="button" title="\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c">\n                            <img src="/static/img/icons/material/clear.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438">\n                        </button>';
g.$jscomp$loop$prop$notification$0$15.children[0].innerText="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u20bd"+d+' \u043a "'+n.toTitle().replace(/\s+$/,"")+'"?';g.$jscomp$loop$prop$notification$0$15.children[0].setAttribute("title","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u20bd"+d+' \u043a "'+n.toTitle().replace(/\s+$/,"")+'"?');g.$jscomp$loop$prop$notification$0$15.children[1].onclick=function(a){return function(k){ripplet(k);e=document.getElementsByClassName("cost");c=document.getElementsByClassName("name");
for(k=0;k<Math.min(c.length,e.length);k++){var f=c[k].value,g=+e[k].value;f&&b.toLowerCase().includes(f.toLowerCase())&&(e[k].value=d+g,checkOnBuy(e[k]),sortCandidates(),changeTitle(e[k]),a.$jscomp$loop$prop$notification$0$15.classList.add("hidden"),setTimeout(function(){a.$jscomp$loop$prop$notification$0$15.remove()},300))}}}(g);g.$jscomp$loop$prop$notification$0$15.children[2].onclick=function(a){return function(b){ripplet(b);a.$jscomp$loop$prop$notification$0$15.classList.add("hidden");setTimeout(function(){a.$jscomp$loop$prop$notification$0$15.remove()},
300)}}(g);f.insertBefore(g.$jscomp$loop$prop$notification$0$15,f.firstElementChild);notificationSound();l=!0;break}}if(!l){var h=document.createElement("div");h.className="notification";h.innerHTML='<p></p>\n                    <button class="notification-btn" type="button" title="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c">\n                        <img src="/static/img/icons/material/done.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f">\n                    </button>\n                    <button class="notification-btn" type="button" title="\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c">\n                        <img src="/static/img/icons/material/clear.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438">\n                    </button>';
h.children[0].innerText='\u0421\u043e\u0437\u0434\u0430\u0442\u044c "'+b.toTitle().replace(/\s+$/,"")+'" \u0441 \u20bd'+d+"?";h.children[0].setAttribute("title",'\u0421\u043e\u0437\u0434\u0430\u0442\u044c "'+b.toTitle().replace(/\s+$/,"")+'" \u0441 \u20bd'+d+"?");h.children[1].onclick=function(a){ripplet(a);var e=document.createElement("div");e.className="block";e.innerHTML='<label>\n                           <input class="name" type="text" autocomplete="off"\n                           onkeyup="createLink(this);changeSize(this)" onchange="changeSize(this)"\n                           placeholder="\u041f\u043e\u0437\u0438\u0446\u0438\u044f" spellcheck="false" onclick="ripplet(arguments[0])">\n                           <input onclick="ripplet(arguments[0])" class="cost" type="text" min="0" step="10"\n                             onchange="changeTitle(this);checksum(this);sortCandidates()"\n                             placeholder="\u20bd" value="'+
d+'" autocomplete="off">\n                         </label>\n                         <span>\n                         <a href="https://www.kinopoisk.ru" target="_blank" class="kp-link"\n                           onclick="ripplet(arguments[0])" title="\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a">\n                           <img src="/static/img/icons/material/video-library.svg"\n                           alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"></a>\n                         <button type="button" class="btn"\n                         onclick="ripplet(arguments[0]);removeRow(this)" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c">\n                           <img src="/static/img/icons/material/delete.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f">\n                         </button>\n                         </span>';
e.children[0].children[0].value=b;e.children[0].children[0].setAttribute("title",b);e.children[0].children[1].setAttribute("title","\u0421\u0443\u043c\u043c\u0430: "+d+" \u20bd");changeSize(e.children[0].children[0]);checkOnBuy(e.children[0].children[1]);candidatesArea.insertBefore(e,candidatesArea.lastElementChild);sortCandidates();setTimeout(function(){e.classList.add("visible")},20);for(a=0;a<c.length;a++)createLink(c[a]);h.classList.add("hidden");setTimeout(function(){h.remove()},300)};h.children[2].onclick=
function(a){ripplet(a);h.classList.add("hidden");setTimeout(function(){h.remove()},300)};f.insertBefore(h,f.firstElementChild);notificationSound()}f=b.replace(/\s+$/,"");f=30<f.length?f.substr(0,30)+"...":f;sendNotification("\u041d\u043e\u0432\u043e\u0435 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435"+(a.username?" \u043e\u0442 "+a.username:"")+"!",{body:'"'+f+'" \u0441 '+d+"\u20bd",dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})}})}catch(a){console.log("\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0430\u0432\u0442\u043e\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c.")}
function returnWinner(){for(var a=void 0,b=null,d=document.getElementsByClassName("name"),c=document.getElementsByClassName("cost"),e=0;e<Math.min(d.length,c.length);e++){var f=d[e].value,l=+c[e].value;l>b&&(b=l,a=f?f:a)}b&&(a=a.toTitle());return a?'"'+a.truncate()+'"':"\u041d\u0438\u043a\u0442\u043e \u043d\u0435 "}
function showWinner(){var a=document.querySelector("#modal"),b=document.querySelector("#modal-overlay");timer.classList.remove("danger");b.onclick=function(d){ripplet(d);a.classList.toggle("closed");b.classList.toggle("closed");document.title="\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u03b2"};var d=returnWinner();isBuy?(a.children[0].innerText='"'+buyWinner+'" \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438, \u0430\u0436 \u0437\u0430 '+buyCost+"\u20bd Pog!",document.title=30<buyWinner.length?buyWinner.substring(0,
30)+"... \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438!":buyWinner+" \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438!",sendNotification("\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u043e\u043a\u043e\u043d\u0447\u0435\u043d!",{body:'\u0412\u044b\u043a\u0443\u043f\u0438\u043b\u0438 "'+(30<buyWinner.length?buyWinner.substring(0,30)+"...":buyWinner)+'"!',dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})):(a.children[0].innerText=d+" \u043f\u043e\u0431\u0435\u0434\u0438\u043b!",document.title=
30<d.length?d.substring(0,30)+"... \u043f\u043e\u0431\u0435\u0434\u0438\u043b!":d+" \u043f\u043e\u0431\u0435\u0434\u0438\u043b!","\u041d\u0438\u043a\u0442\u043e \u043d\u0435 "===d?sendNotification("\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u043e\u043a\u043e\u043d\u0447\u0435\u043d!",{body:"\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u043f\u043e\u0431\u0435\u0434\u0438\u043b :(",dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"}):sendNotification("\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u043e\u043a\u043e\u043d\u0447\u0435\u043d!",
{body:"\u041f\u043e\u0431\u0435\u0434\u0430 "+(30<d.length?d.substring(0,30)+'..."':d)+"!",dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"}));b.classList.toggle("closed");a.classList.toggle("closed");notificationSound()}var startTime,timer=document.getElementById("timer"),minsCookie=getCookie("previousMinutes");minsCookie&&(timer.innerHTML=minsCookie+":00:00");var timerArray=timer.innerHTML.split(":"),m=+timerArray[0],s=+timerArray[1],ms=+timerArray[2],timerTime=new Date(6E4*m+1E3*s+ms);
function updateTimer(){var a=new Date(new Date-startTime),b=new Date(timerTime-a),d=b.getMinutes(),c=b.getSeconds();b=b.getMilliseconds();!d&&30>c?timer.classList.add("danger"):timer.classList.remove("danger");var e=returnWinner();"\u041d\u0438\u043a\u0442\u043e \u043d\u0435 "!==e?(e=30<e.length?e.substr(0,30)+'..."':e,document.title=e+" - \u0410\u0443\u043a\u0446\u0438\u043e\u043d \u03b2"):document.title="\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u03b2";!d&&!c&&300>b||timerTime<a?(cancelAnimationFrame(updateTimer),
timer.innerHTML="00:00:00",showWinner(),started=!1):(d=10>d?"0"+d:d,c=10>c?"0"+c:c,b=String(10>b?"0"+b:b).substr(0,2),timer.innerHTML=d+":"+c+":"+b,requestAnimationFrame(updateTimer))}function startTimer(){var a=+timer.innerHTML.split(":")[0];started||(a?(startTime=new Date,requestAnimationFrame(updateTimer),started=!0):showWinner())}
var startBtn=document.getElementById("start-btn"),resetBtn=document.getElementById("stop-btn"),plusBtn=document.getElementById("plus-btn"),plusTwoBtn=document.getElementById("plus-two-btn"),minusBtn=document.getElementById("minus-btn");startBtn.onclick=function(a){var b=timer.innerHTML.split(":")[0];ripplet(a);b&&setCookie("previousMinutes",b,{expires:year});startTimer()};
resetBtn.onclick=function(a){ripplet(a);if(started){startTime=new Date(new Date-timerTime+300);for(a=document.getElementById("notifications-area");0<a.children.length;)a.removeChild(a.firstChild);started=!1}else m=0,timerTime=new Date(0),timer.innerHTML="00:00:00"};
plusBtn.onclick=function(a){ripplet(a);timerArray=timer.innerHTML.split(":");a=+timerArray[0];started?59!==a&&startTime.setMinutes(startTime.getMinutes()+1):(m=+timerArray[0]+1,m=59<m?59:m,timerTime=new Date(6E4*m+1E3*s+ms),timer.innerHTML=(10>m?"0"+m:m)+":00:00")};
plusTwoBtn.onclick=function(a){ripplet(a);timerArray=timer.innerHTML.split(":");a=+timerArray[0];started?58===a?startTime.setMinutes(startTime.getMinutes()+1):58>a&&startTime.setMinutes(startTime.getMinutes()+2):(m=+timerArray[0]+2,m=59<m?59:m,timerTime=new Date(6E4*m+1E3*s+ms),timer.innerHTML=(10>m?"0"+m:m)+":00:00")};
minusBtn.onclick=function(a){var b=+timer.innerHTML.split(":")[0];ripplet(a);b&&(started?startTime.setMinutes(startTime.getMinutes()-1):(timerArray=timer.innerHTML.split(":"),m=+timerArray[0]-1,timerTime=new Date(6E4*m+1E3*s+ms),timer.innerHTML=(10>m?"0"+m:m)+":00:00"))};
function sortCandidates(){for(var a=[],b=document.getElementsByClassName("name"),d=document.getElementsByClassName("cost"),c=0;c<Math.min(b.length,d.length);c++){var e=b[c].value,f=+d[c].value,l=b[c].getAttribute("title"),g=d[c].getAttribute("title");a.push({name:e,cost:f,titleName:l,titleCost:g,link:b[c].parentNode.parentNode.children[1].children[0].href})}a=a.sort(function(a,b){return a.cost-b.cost}).reverse();for(c=0;c<Math.min(b.length,d.length);c++)e=a[c].cost,d[c].value=0===e?"":e,b[c].value=
a[c].name,b[c].setAttribute("title",a[c].titleName),d[c].setAttribute("title",a[c].titleCost),b[c].parentNode.parentNode.children[1].children[0].href=a[c].link}
function clearRow(){var a=document.getElementById("candidates-area"),b=a.children[1].children[0];a=a.children[1].children[1].children[0];b.children[0].value="";b.children[1].value="";b.children[0].setAttribute("title","\u0424\u0438\u043b\u044c\u043c, \u0438\u0433\u0440\u0430, etc");b.children[1].setAttribute("title","\u0421\u0443\u043c\u043c\u0430");a.href="https://www.kinopoisk.ru";changeSize(b.children[0])}
function removeRow(a){setTimeout(function(){try{a.parentNode.parentNode.parentNode.removeChild(a.parentNode.parentNode)}catch(d){}var b=document.getElementsByClassName("name");1!==b.length||b[0].value||(maxSize=defaultSize,styleForSize.innerText=".name{width:"+defaultSize+"vw}#add-btn{width:"+(defaultSize+10)+"vw}")},200)}function trim(a){return a.replace(/^\s+/,"").replace(/\s{2,}$/,"").replace(/\s+/g," ")}
function createLink(a){a.value=trim(a.value);var b=a.value;b?(a.parentNode.parentNode.children[1].children[0].href=encodeURI("https://www.kinopoisk.ru/s/type/all/find/"+b+"/"),a.setAttribute("title",b.toTitle())):(a.parentNode.parentNode.children[1].children[0].href="https://www.kinopoisk.ru",a.setAttribute("title","\u0424\u0438\u043b\u044c\u043c, \u0438\u0433\u0440\u0430, etc"))}var addBtn=document.getElementById("add-btn"),candidatesArea=document.getElementById("candidates-area");
addBtn.onclick=function(a){var b=document.createElement("div");b.className="block";b.innerHTML='<label>\n           <input class="name" type="text" onkeyup="createLink(this);changeSize(this)"  onchange="changeSize(this)"\n             onclick="ripplet(arguments[0])" title="\u0424\u0438\u043b\u044c\u043c, \u0438\u0433\u0440\u0430, etc" autocomplete="off" placeholder="\u041f\u043e\u0437\u0438\u0446\u0438\u044f" spellcheck="false">\n           <input class="cost" type="text" min="0" step="10" placeholder="\u20bd" title="\u0421\u0443\u043c\u043c\u0430"\n             onclick="ripplet(arguments[0])" onchange="changeTitle(this);checksum(this);sortCandidates();checkOnBuy(this)" autocomplete="off">\n         </label>\n         <span>\n         <a href="https://www.kinopoisk.ru" target="_blank" class="kp-link"\n           onclick="ripplet(arguments[0])" title="\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a">\n           <img src="/static/img/icons/material/video-library.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"></a>\n         <button type="button" class="btn"\n           onclick="ripplet(arguments[0]);removeRow(this)" title="\u0423\u0434\u0430\u043b\u0438\u0442\u044c">\n           <img src="/static/img/icons/material/delete.svg" alt="\u0418\u043a\u043e\u043d\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f">\n         </button>\n        </span>';
candidatesArea.insertBefore(b,candidatesArea.lastElementChild);ripplet(a);setTimeout(function(){b.classList.add("visible")},10);b.children[0].children[0].focus();sortCandidates()};function setCookie(a,b,d){d=d||{};var c=d.expires;if("number"==typeof c&&c){var e=new Date;e.setTime(e.getTime()+1E3*c);c=d.expires=e}c&&c.toUTCString&&(d.expires=c.toUTCString());b=encodeURIComponent(b);a=a+"="+b;for(var f in d)a+="; "+f,b=d[f],!0!==b&&(a+="="+b);document.cookie=a}
function changeBG(a){var b=document.querySelector("body"),d=new Image;a&&""!==a?(d.onload=function(){b.style.backgroundImage="url("+d.src+")"},d.src=a):b.style.backgroundImage=firefox?"url('/static/img/bg/tree.jpg')":"url('/static/img/bg/tree.webp')"}function sheet(a){var b=document.createElement("style");b.appendChild(document.createTextNode(a));document.head.appendChild(b);return b}function textSelect(a){a.focus();a.select()}
var showSettingsBtn=document.getElementById("settings-icon"),settingsWindow=document.getElementById("settings"),saveBGURLBtn=document.getElementById("save-bg-url-btn"),clearBGURLBtn=document.getElementById("clear-bg-url-btn"),bgURLInput=document.getElementById("bg-url"),colorExctractor=document.getElementById("color-extractor"),year=31622400,bgURL=getCookie("bg-url"),styleElement;bgURLInput.onclick=function(a){ripplet(a);textSelect(this)};showSettingsBtn.onclick=function(a){ripplet(a);settingsWindow.classList.toggle("closed")};
function hexToRgb(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}var colorCookie=getCookie("accent");ripplet.defaultOptions.clearingDuration=".3s";ripplet.defaultOptions.spreadingDuration=".3s";var color;if(colorCookie){var rgb=hexToRgb(colorCookie);color="rgba("+rgb.r+", "+rgb.g+", "+rgb.b+", .6)"}else color="rgba(243, 151, 39, .6)";ripplet.defaultOptions.color=color;
if(colorCookie&&""!==colorCookie){var accentShadow=hexToRgb(colorCookie);accentShadow="rgba("+accentShadow.r+", "+accentShadow.g+", "+accentShadow.b+", 0.7)";styleElement=sheet(".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:"+colorCookie+"!important}\ninput:focus{--accent:"+colorCookie+"!important;--shadow:"+accentShadow+"!important}\n::selection{background:"+accentShadow+"!important}::-moz-selection{background:"+accentShadow+"}!important")}else styleElement=sheet(".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\ninput:focus{--accent:#f39727!important;--shadow:rgba(243, 151, 39, 0.7)!important}\n::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}");
function isUrlWork(a){var b=new XMLHttpRequest;try{return b.open("HEAD",a,!1),b.send(),200===b.status}catch(d){return console.log(d),!1}}function isUrlValid(a){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/i.test(a)}
function notification(a){var b=document.getElementById("notifications-area"),d=document.createElement("div"),c=document.createElement("p");c.innerText=a;c.setAttribute("title",a);d.appendChild(c);d.className="notification";b.insertBefore(d,b.firstElementChild);notificationSound();setTimeout(function(){d.classList.add("hidden");setTimeout(function(){d.remove()},300)},1200)}
saveBGURLBtn.onclick=function(a){var b=bgURLInput.value;ripplet(a);b?b===getCookie("bg-url")?notification("\u042d\u0442\u043e\u0442 \u0444\u043e\u043d \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"):isUrlValid(b)?isUrlWork("https://cors-anywhere.herokuapp.com/"+b)?(changeBG(b),notification("\u0424\u043e\u043d \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),colorExctractor.setAttribute("src","https://cors-anywhere.herokuapp.com/"+b),colorExctractor.addEventListener("load",
function(){var a=(new Vibrant(this)).swatches().Vibrant.getHex(),c=hexToRgb(a);ripplet.defaultOptions.color="rgba("+c.r+", "+c.g+", "+c.b+", .6)";c="rgba("+c.r+", "+c.g+", "+c.b+", .7)";styleElement.innerText=".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:"+a+"!important}\n                            input:focus{--accent:"+a+"!important;--shadow:"+c+"!important}\n                            ::selection{background:"+c+"!important}::-moz-selection{background:"+c+"!important}";setCookie("bg-url",
b,{expires:year});setCookie("accent",a,{expires:year})})):notification("URL \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439, \u0438\u043b\u0438 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442"):notification("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL"):notification("\u041d\u0435\u0442 URL \u0444\u043e\u043d\u0430")};
clearBGURLBtn.onclick=function(a){ripplet(a);bgURLInput.value?(changeBG(""),bgURLInput.value="",ripplet.defaultOptions.color="rgba(243, 151, 39, .6)",styleElement.innerText=".name,.cost,#bg-url,.danger,#da-url,.cost-buy{color:#f39727!important}\n            input:focus{--accent:#f39727!important;--shadow:rgba(243,151,39,.7)!important});\n            ::selection{background:rgba(243,151,39,.7)}::-moz-selection{background:rgba(243,151,39,.7)}",setCookie("bg-url","",{expires:year}),setCookie("accent",
"",{expires:year}),notification("\u0424\u043e\u043d \u0441\u0431\u0440\u043e\u0448\u0435\u043d")):notification("\u0424\u043e\u043d \u0443\u0436\u0435 \u0441\u0431\u0440\u043e\u0448\u0435\u043d")};changeBG(bgURL);bgURLInput.value=bgURL?bgURL:"";var daURL=document.getElementById("da-url"),saveDAURLBtn=document.getElementById("save-da-url-btn"),clearDAURLBtn=document.getElementById("clear-da-url-btn"),tokenCookie=getCookie("token");daURL.onclick=function(a){ripplet(a);textSelect(this)};
daURL.value=tokenCookie?tokenCookie:"";
saveDAURLBtn.onclick=function(a){ripplet(a);setCookie("token",daURL.value,{expires:year});a=document.getElementById("notifications-area");var b=document.createElement("div");b.className="notification";b.innerHTML='<p title="\u0422\u043e\u043a\u0435\u043d \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d">\u0422\u043e\u043a\u0435\u043d \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d</p>';a.insertBefore(b,a.firstElementChild);notificationSound();setTimeout(function(){b.classList.add("hidden");setTimeout(function(){b.remove();
location.reload()},300)},800)};
clearDAURLBtn.onclick=function(a){ripplet(a);daURL.value="";setCookie("token","",{expires:year});a=document.getElementById("notifications-area");var b=document.createElement("div");b.className="notification";b.innerHTML='<p title="\u0422\u043e\u043a\u0435\u043d \u0443\u0434\u0430\u043b\u0435\u043d">\u0422\u043e\u043a\u0435\u043d \u0443\u0434\u0430\u043b\u0435\u043d</p>';a.insertBefore(b,a.firstElementChild);notificationSound();setTimeout(function(){b.classList.add("hidden");setTimeout(function(){b.remove();
location.reload()},300)},800)};document.onkeydown=function(a){var b=document.getElementById("modal-overlay");b.classList.contains("closed")||"Escape"!==a.key||b.click()};function changeTitle(a){a.setAttribute("title","\u0421\u0443\u043c\u043c\u0430"+(a.value?": "+a.value+" \u20bd":""))}var resetButton=document.getElementById("reset-icon");
resetButton.onclick=function(a){ripplet(a);for(a=document.getElementById("candidates-area");3<a.children.length;)a.removeChild(a.children[a.children.length-2]);clearRow()};for(var urlsBtns=document.getElementsByClassName("special-url"),i=0;i<urlsBtns.length;i++)urlsBtns[i].onclick=function(a){ripplet(a)};
function checksum(a){var b=a.value.replace(/[^\d+*/,.-]/g,"");b=b.replace(/,/,".");try{b=eval(b),isNaN(b)||!isFinite(b)?(a.value="",a.setAttribute("title","\u0421\u0443\u043c\u043c\u0430")):(b=0<b?+b.toFixed(2):"",a.value=b,a.setAttribute("title","\u0421\u0443\u043c\u043c\u0430: "+b+" \u20bd"))}catch(d){a.value="",a.setAttribute("title","\u0421\u0443\u043c\u043c\u0430")}}
var costBuy=document.getElementsByClassName("cost-buy")[0],costBuyCookie=getCookie("buyCost"),costBuyClearBtn=document.querySelector(".block-buy .btn"),isBuy=!1,buyWinner,buyCost;costBuy.value=costBuyCookie?costBuyCookie:"";changeTitle(costBuy);costBuy.onchange=function(){changeTitle(this);checksum(this);setCookie("buyCost",this.value,{expires:year})};costBuy.onclick=function(a){ripplet(a)};costBuyClearBtn.onclick=function(a){ripplet(a);costBuy.value="";setCookie("buyCost","",{expires:-1})};
function checkOnBuy(a){var b=+costBuy.value,d=+a.value;a=a.previousElementSibling.value.toTitle().truncate();if(b&&a&&d>=b)if(started)buyWinner=a,buyCost=d,isBuy=!0,resetBtn.click();else{var c=document.querySelector("#modal"),e=document.querySelector("#modal-overlay");e.onclick=function(a){ripplet(a);c.classList.toggle("closed");e.classList.toggle("closed");document.title="\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u03b2"};c.children[0].innerText='"'+a+'" \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438, \u0430\u0436 \u0437\u0430 '+
d+"\u20bd Pog!";document.title=30<a.length?a.substring(0,30)+'..." \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438!':a+" \u0432\u044b\u043a\u0443\u043f\u0438\u043b\u0438!";c.classList.toggle("closed");e.classList.toggle("closed");notificationSound();sendNotification("\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u043e\u043a\u043e\u043d\u0447\u0435\u043d!",{body:'\u0412\u044b\u043a\u0443\u043f\u0438\u043b\u0438 "'+(30<a.length?a.substring(0,30)+"...":a)+'"!',dir:"ltr",lang:"ru",icon:"/static/img/favicon/favicon.png"})}}
function sendNotification(a,b){"Notification"in window?"granted"===Notification.permission?(new Notification(a,b)).onclick=function(){window.focus()}:"denied"!==Notification.permission&&Notification.requestPermission(function(d){"granted"===d?(new Notification(a,b)).onclick=focusWindow:console.log("\u0412\u044b \u0437\u0430\u043f\u0440\u0435\u0442\u0438\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")}):console.log("\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 HTML Notifications, \u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c.")}
"default"===Notification.permission&&Notification.requestPermission();