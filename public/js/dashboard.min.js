var WoodsAuc=function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=13)}([function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return i});var w={className:"",color:"rgba(0,0,0,.1)",opacity:null,spreadingDuration:".4s",spreadingDelay:"0s",spreadingTimingFunction:"linear",clearingDuration:"1s",clearingDelay:"0s",clearingTimingFunction:"ease-in-out",centered:!1,appendTo:"body"};function i(e,n){var t=e.currentTarget,i=e.clientX,r=e.clientY;if(t instanceof Element){var o=n?Object.keys(w).reduce(function(e,t){return e[t]=n.hasOwnProperty(t)?n[t]:w[t],e},{}):w,a=t.getBoundingClientRect();if(o.centered&&"false"!==o.centered)i=a.left+.5*a.width,r=a.top+.5*a.height;else if("number"!=typeof i||"number"!=typeof r)return;var c=document.documentElement,s=document.body,l=document.createElement("div"),u=l,d="parent"===o.appendTo,m=getComputedStyle(t),f=l.style;if("fixed"===m.position||"absolute"===m.position&&d)d?t.parentElement.insertBefore(l,t):s.appendChild(l),T(f,m,["position","left","top","right","bottom","marginLeft","marginTop","marginRight","marginBottom"]);else if(d){var p=getComputedStyle(t.parentElement);if("flex"===p.display||"inline-flex"===p.display)t.parentElement.insertBefore(l,t),f.position="absolute",f.left=t.offsetLeft+"px",f.top=t.offsetTop+"px";else{var h=u=t.parentElement.insertBefore(document.createElement("div"),t),_=h.style;_.display="inline-block",_.position="relative",_.width=_.height="0",_.cssFloat=m.cssFloat;var g=h.getBoundingClientRect();h.appendChild(l),f.position="absolute",f.top=a.top-g.top+"px",f.left=a.left-g.left+"px"}}else s.appendChild(l),f.position="absolute",f.left=a.left+c.scrollLeft+s.scrollLeft+"px",f.top=a.top+c.scrollTop+s.scrollTop+"px";f.overflow="hidden",f.pointerEvents="none",f.width=a.width+"px",f.height=a.height+"px",f.zIndex=""+((parseInt(m.zIndex,10)||0)+1),f.opacity=o.opacity,T(f,m,["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","webkitClipPath","clipPath"]);var b=Math.max(i-a.left,a.right-i),v=Math.max(r-a.top,a.bottom-r),y=Math.sqrt(b*b+v*v),E=l.appendChild(document.createElement("div")),k=E.style;return E.className=o.className,k.backgroundColor=o.color,k.width=k.height=2*y+"px",k.marginLeft=i-a.left-y+"px",k.marginTop=r-a.top-y+"px",k.borderRadius="50%",k.transition="transform "+o.spreadingDuration+" "+o.spreadingTimingFunction+" "+o.spreadingDelay+",opacity "+o.clearingDuration+" "+o.clearingTimingFunction+" "+o.clearingDelay,k.transform="scale(0)",E.offsetTop,E.addEventListener("transitionend",function(e){"opacity"===e.propertyName&&u.parentElement&&u.parentElement.removeChild(u)}),k.transform="",k.opacity="0",l}}function T(e,t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];e[o]=t[o]}}},function(e,t,n){"use strict";var s=n(0),l=n(3),u=document.getElementById("notifications-area");"default"===Notification.permission&&Notification.requestPermission();function d(){var e=new Audio;e.src="light.mp3",e.autoplay=!0}function i(){return window.focus()}function r(e,t){var n=new Notification(e,t);return n.onclick=i,n}var o={playNotificationSound:d,sendNotification:function(t,e){var n=Notification.permission,i=function(e,t){return{title:e,body:t,dir:"ltr",lang:"ru",icon:"img/favicons/apple-touch-icon-72x72-precomposed.png"}}(t,e);"Notification"in window&&("granted"===n?r(t,i):"denied"!==n&&Notification.requestPermission(function(e){"granted"===e&&r(t,i)}))},sendInside:function(e){var t=document.createElement("div"),n=document.createElement("p");n.innerText=e,t.appendChild(n),t.className="notification",u.insertBefore(t,u.firstElementChild),o.playNotificationSound(),setTimeout(function(){t.classList.add("hidden"),setTimeout(function(){t.remove()},300)},1200)},sendPrompt:function(e,t){var n=document.createElement("div"),i=document.createElement("p"),r=document.createElement("button"),o=document.createElement("button"),a=document.createElement("img"),c=document.createElement("img");n.className="notification",e=Object(l.a)(e),i.innerText=e,i.setAttribute("title",e),a.setAttribute("src","img/icons/material/done.svg"),c.setAttribute("src","img/icons/material/clear.svg"),a.setAttribute("alt","Подтвердить"),c.setAttribute("alt","Отклонить"),[r,o].forEach(function(e){e.className="notification-btn",e.setAttribute("type","button")}),r.setAttribute("title","Подтвердить"),o.setAttribute("title","Отклонить"),r.addEventListener("click",s.a),o.addEventListener("click",s.a),o.onclick=function(){n.classList.add("hidden"),setTimeout(function(){return n.remove()},300)},r.onclick=function(){t(),o.click()},r.appendChild(a),o.appendChild(c),n.appendChild(i),n.appendChild(r),n.appendChild(o),u.insertBefore(n,u.firstChild),d()},clear:function(){for(;0<u.children.length;)u.removeChild(u.firstChild)}};t.a=o},function(e,t,n){"use strict";function i(e,t,n){var i=2<arguments.length&&void 0!==n?n:{expires:31622400},r=i.expires;if("number"==typeof r&&r){var o=new Date;o.setTime(o.getTime()+1e3*r),r=i.expires=o}r&&r.toUTCString&&(i.expires=r.toUTCString()),t=encodeURIComponent(t);var a="".concat(e,"=").concat(t);for(var c in i){var s=i[c];a+="; ".concat(c),!0!==s&&(a+="=".concat(s))}document.cookie=a}var r={get:function(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0},set:i,del:function(e){i(e,"",{expires:-1})}};t.a=r},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i=function(e){return e.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()})},r=function(e){return e.replace(/\s+/g," ")}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(3),a=document.getElementById("modal"),c=document.getElementById("modal-overlay"),s=document.getElementById("timer");c.addEventListener("click",i.a),document.onkeydown=function(e){c.classList.contains("closed")||"Escape"!==e.key||c.click()};function l(){var e=document.getElementsByClassName("name"),t=Array.from(document.getElementsByClassName("cost")).map(function(e){return Number(e.value)}),n=Math.max.apply(null,t);if(n){var i=e[t.indexOf(n)].value;return i||null}}var u=function(e){return d(m(e))},d=function(e){var t=e?"победил":null===e?"победила":"победил";return"".concat(f(e)," ").concat(t,"!")},m=function(e){return e?(e=(e=Object(o.b)(e).trim()).length<20?e:"".concat(e.substr(0,20),"..."),JSON.stringify(e)):e},f=function(e){return e||(null===e?"Пустая позиция":"Никто не")},p={show:function(e){e=e||u(l()),window.isBuy?(e=window.buyWinner,a.querySelector("p").innerText="".concat(e," выкупили, аж за ").concat(window.buyCost,"₽ Pog!"),document.title="".concat(e," выкупили!"),r.a.sendNotification("Аукцион окончен!","Выкупили ".concat(e))):(a.querySelector("p").innerText=e,r.a.sendNotification("Аукцион окончен!",e),document.title=e),s.classList.remove("danger"),r.a.playNotificationSound(),c.classList.toggle("closed"),a.classList.toggle("closed"),c.onclick=function(){a.classList.toggle("closed"),c.classList.toggle("closed"),document.title="Аукцион"}},return:l,compile:u,addEnding:d,decorate:m,humanize:f};t.a=p},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return sortCandidates}),__webpack_require__.d(__webpack_exports__,"a",function(){return changeTitle}),__webpack_require__.d(__webpack_exports__,"b",function(){return checkOnBuy}),__webpack_require__.d(__webpack_exports__,"c",function(){return createBlock});var ripplet_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_notifications__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_winner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_stringUtilities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),firstBlock=document.querySelector(".block"),firstName=firstBlock.querySelector(".name"),firstCost=firstBlock.querySelector(".cost"),firstKpLink=firstBlock.querySelector(".kp-link"),firstClearRowBtn=firstBlock.querySelector(".btn"),buyBlock=document.querySelector(".block-buy"),buyText=document.querySelector(".block-buy span"),buyInput=buyBlock.querySelector(".cost-buy"),buyClear=buyBlock.querySelector(".btn"),buyCookie=_cookie__WEBPACK_IMPORTED_MODULE_1__.a.get("buyCost"),modalOverlay=document.getElementById("modal-overlay"),modal=document.getElementById("modal"),stopBtn=document.getElementById("stop-btn"),addBtn=document.getElementById("add-btn"),resetButton=document.getElementById("reset-icon"),area=document.getElementById("candidates-area"),defaultSize=16.2,defaultMargin=2.6,highestMargin=35.25,maxSize=defaultSize,maxMargin=defaultMargin;function sortCandidates(){var e=Array.from(document.getElementsByClassName("name")),s=Array.from(document.getElementsByClassName("cost")),l=[];e.forEach(function(e,t){var n=s[t],i=e.value,r=Number(n.value),o=e.getAttribute("title"),a=n.getAttribute("title"),c=e.parentElement.parentElement.querySelector(".kp-link").href;l.push({nameVal:i,costVal:r,nameTitle:o,costTitle:a,link:c})}),l=l.sort(function(e,t){return e.costVal-t.costVal}).reverse(),e.forEach(function(e,t){var n=l[t],i=n.costVal;i=i?Number(i):"",e.value=n.nameVal,s[t].value=i,e.setAttribute("title",n.nameTitle),s[t].setAttribute("title",n.costTitle),e.parentElement.parentElement.querySelector(".kp-link").href=n.link})}function clearFirstRow(){firstName.value="",firstCost.value="",firstName.setAttribute("title","Фильм, игра, etc"),firstCost.setAttribute("title","Сумма"),firstKpLink.href="https://www.kinopoisk.ru",changeSize(firstName),sortCandidates(),window.isBuy&&(window.isBuy=!1)}function removeRow(e){var t=document.getElementsByClassName("name");e.parentElement.parentElement.remove(),1!==t.length||t[0].value||(maxSize=defaultSize,t[0].removeAttribute("style"),addBtn.removeAttribute("style"),buyText.removeAttribute("style"))}function changeTitle(e){var t=e.value?": ".concat(e.value," ₽"):"";e.setAttribute("title","Сумма".concat(t))}function checksum(costEl){var calc=costEl.value.replace(/[^\d+*/,.-]/g,"").replace(/,/,".");try{calc=eval(calc),isNaN(calc)||!isFinite(calc)?costEl.value="":(calc=calc<=0?"":Number(Number(calc).toFixed(2)),costEl.value=calc)}catch(e){costEl.value=""}}function checkOnBuy(e){var t=Number(buyInput.value),n=Number(e.value),i=_winner__WEBPACK_IMPORTED_MODULE_3__.a.decorate(Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.b)(e.previousElementSibling.value));!t||!i||n<t||(window.started?(window.isBuy=!0,window.buyWinner=i,window.buyCost=n,stopBtn.click()):(modalOverlay.onclick=function(){modal.classList.add("closed"),modalOverlay.classList.add("closed"),document.title="Аукцион"},modal.querySelector("p").innerText="".concat(i," выкупили, аж за ").concat(n,"₽ Pog!"),modalOverlay.classList.remove("closed"),modal.classList.remove("closed"),_notifications__WEBPACK_IMPORTED_MODULE_2__.a.playNotificationSound(),_notifications__WEBPACK_IMPORTED_MODULE_2__.a.sendNotification("Аукцион окончен!","Выкупили ".concat(i,"!")),document.title="".concat(i," выкупили!")))}function changeSize(e){var t,n,i=Array.from(document.getElementsByClassName("name")),r=e.value.length-10;0<r?(t=Number((defaultSize+2.1*r).toFixed(2)),n=Number((defaultMargin+2.1*r).toFixed(2)),n=highestMargin<n?highestMargin:n):1===i.length&&(maxSize=defaultSize,maxMargin=defaultMargin,i[0].removeAttribute("style"),addBtn.removeAttribute("style"),buyText.removeAttribute("style")),t&&maxSize<t&&(maxSize=t,maxMargin=n,i.forEach(function(e){return e.style.width="".concat(t,"vw")}),addBtn.style.width="".concat(t+10,"vw"),buyText.style.marginRight="".concat(n,"vw"))}function createLink(e){var t=e.value;t?(e.parentElement.parentElement.querySelector(".kp-link").href=encodeURI("https://www.kinopoisk.ru/s/type/all/find/".concat(t,"/")),e.setAttribute("title",Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.b)(t))):(e.parentElement.parentElement.querySelector(".kp-link").href="https://www.kinopoisk.ru",e.setAttribute("title","Фильм, игра, etc"))}firstName.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstCost.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstKpLink.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstClearRowBtn.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),buyInput.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),buyClear.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),resetButton.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),firstName.onchange=function(){changeSize(this),trimValue(this)},firstName.onkeyup=function(){createLink(this),changeSize(this),oneSpacedValue(this)},firstCost.onchange=function(){checksum(this),checkOnBuy(this),changeTitle(this),sortCandidates()},firstClearRowBtn.onclick=clearFirstRow,addBtn.onclick=function(){createBlock(),Object(ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a)(arguments[0])},resetButton.onclick=function(){for(;3<area.children.length;)area.children[area.children.length-2].remove();clearFirstRow(),firstName.focus(),window.isBuy=!1},buyInput.value=buyCookie||"",changeTitle(buyInput),buyClear.onclick=function(){buyInput.value="",buyInput.setAttribute("title","Сумма выкупа"),_cookie__WEBPACK_IMPORTED_MODULE_1__.a.del("buyCost")},buyInput.onchange=function(){checksum(this),changeTitle(this),this.value?_cookie__WEBPACK_IMPORTED_MODULE_1__.a.set("buyCost",this.value):_cookie__WEBPACK_IMPORTED_MODULE_1__.a.del("buyCost")};var trimValue=function(e){return e.value=e.value.trim()};function oneSpacedValue(e){e.value=Object(_stringUtilities__WEBPACK_IMPORTED_MODULE_4__.a)(e.value)}function createBlock(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=firstBlock.cloneNode(!0),i=n.querySelector(".name"),r=n.querySelector(".cost"),o=n.querySelector(".kp-link"),a=n.querySelector(".btn"),c=a.querySelector("img"),s=e&&t;i.value=e,r.value=t,i.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),r.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),o.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),a.addEventListener("click",ripplet_js__WEBPACK_IMPORTED_MODULE_0__.a),a.onclick=function(){removeRow(this)},i.onkeyup=function(){createLink(this),changeSize(this)},i.onchange=function(){changeSize(this)},r.onchange=function(){checksum(this),checkOnBuy(this),changeTitle(this),sortCandidates()},c.setAttribute("src","img/icons/material/delete.svg"),c.setAttribute("alt","Удалить"),o.setAttribute("title","Кинопоиск"),s?(checkOnBuy(r),createLink(i),changeTitle(r)):(i.setAttribute("title","Фильм, игра, etc"),r.setAttribute("title","Сумма"),o.setAttribute("href","https://www.kinopoisk.ru")),area.insertBefore(n,area.lastElementChild),n.classList.add("visible"),s?(addHint("prefetch prerender",o.getAttribute("href")),changeSize(i),sortCandidates()):i.focus()}var addHint=function(e,t){var n=document.createElement("link");e&&t&&(n.setAttribute("rel",e),n.setAttribute("href",t),document.head.appendChild(n))}},function(e,t,i){var n,r,o,s={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),a=(o={},function(e,t){if("function"==typeof e)return e();if(void 0===o[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}o[e]=n}return o[e]}),c=null,u=0,d=[],m=i(9);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=s[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(v(i.parts[o],t))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(v(i.parts[o],t));s[i.id]={id:i.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}function h(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,n);n.insertBefore(t,r)}}function _(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);0<=t&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return b(t,e.attrs),h(e,t),t}function b(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function v(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;n=c=c||g(e),i=k.bind(null,n,a,!1),r=k.bind(null,n,a,!0)}else r=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(e),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=m(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),function(){_(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){_(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=l()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var c=p(e,a);return f(c,a),function(e){for(var t=[],n=0;n<c.length;n++){var i=c[n];(r=s[i.id]).refs--,t.push(r)}e&&f(p(e,a),a);for(n=0;n<t.length;n++){var r;if(0===(r=t[n]).refs){for(var o=0;o<r.parts.length;o++)r.parts[o]();delete s[r.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function k(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t,n){var i=n(8);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(6)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,o=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(6)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);n(7),n(10);var i,l=n(5),r=n(0),u=n(1),o=n(2),a=navigator.userAgent.toLowerCase().includes("firefox"),c=document.querySelector("body"),s=o.a.get("bg-url"),d=document.getElementById("bg-url"),m=document.getElementById("save-bg-url-btn"),f=document.getElementById("clear-bg-url-btn"),p=document.getElementById("color-extractor"),h=o.a.get("accent"),_=document.createElement("style");if(d.value=s||"",v(s),i=h?E(h,60).str:"rgba(243, 151, 39, .6)",r.b.color=i,r.b.clearingDuration=".3s",r.b.spreadingDuration=".3s",h){var g=E(y(h),70).str;_.innerText="",_.innerText+="#bg-url {color: ".concat(h,"}"),_.innerText+="#da-url {color: ".concat(h,"}"),_.innerText+=".danger {color: ".concat(h," !important}"),_.innerText+=".name {color: ".concat(h,"}"),_.innerText+=".cost {color: ".concat(h,"}"),_.innerText+=".cost-buy {color: ".concat(h,"}"),_.innerText+="input:focus {--accent: ".concat(h," !important; --shadow: ").concat(g,"}"),_.innerText+="::selection {background: ".concat(g,"}"),_.innerText+="::-moz-selection {background: ".concat(g,"}"),document.head.appendChild(_)}else{var b=document.createElement("style");b.innerText="",b.innerText+="#bg-url {color: #f39727}",b.innerText+="#da-url {color: #f39727}",b.innerText+=".danger {color: #f39727} !important",b.innerText+=".name {color: #f39727}",b.innerText+=".cost {color: #f39727}",b.innerText+=".cost-buy {color: #f39727}",b.innerText+="input:focus {--accent: #f39727; --shadow: rgba(243, 151, 39, .7)}",b.innerText+="::selection {background: rgba(243, 151, 39, .7)}",b.innerText+="::-moz-selection {background: rgba(243, 151, 39, .7)}"}function v(e){var t=new Image;if(e)return t.src=e,void(t.onload=function(){return c.style.backgroundImage="url('".concat(t.src,"')")});c.style.backgroundImage="url('img/bg/tree.".concat(a?"jpg":"webp","')")}function y(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(t[1],16),i=parseInt(t[2],16),r=parseInt(t[3],16);return t?{rgb:{r:n,g:i,b:r},str:"rgb(".concat(n,", ").concat(i,", ").concat(r)}:null}function E(e,t){var n,i,r,o=t<=1?t:t/100;return r="string"==typeof e?(n=(e=y(e).rgb).r,i=e.g,e.b):(n=e.rgb.r,i=e.rgb.g,e.rgb.b),e?{rgba:{r:n,g:i,b:r,a:o},str:"rgba(".concat(n,", ").concat(i,", ").concat(r,", ").concat(o,")")}:null}d.addEventListener("click",r.a),f.addEventListener("click",r.a),m.addEventListener("click",r.a),d.onclick=function(){O(this)},f.onclick=function(){d.value||o.a.get("bg-url")?(v(""),d.value="",r.b.color="rgba(243, 151, 39, .6)",_.innerText="",_.innerText+="#bg-url {color: #f39727}",_.innerText+="#da-url {color: #f39727}",_.innerText+=".danger {color: #f39727 !important}",_.innerText+=".name {color: #f39727}",_.innerText+=".cost {color: #f39727}",_.innerText+=".cost-buy {color: #f39727}",_.innerText+="input:focus {--accent: #f39727; --shadow: rgba(243, 151, 39, .7)}",_.innerText+="::selection {background: rgba(243, 151, 39, .7)}",_.innerText+="::-moz-selection {background: rgba(243, 151, 39, .7)}",document.head.appendChild(_),o.a.del("bg-url"),o.a.del("accent"),u.a.sendInside("Фон сброшен")):u.a.sendInside("Фон уже сброшен")},m.onclick=function(){var n=encodeURI(d.value);if(n)if(n!==o.a.get("bg-url")){if(!M(n))return u.a.sendInside("Введите корректный URL"),void(d.value="");v(n),u.a.sendInside("Фон обновлен"),p.setAttribute("src","https://cors-anywhere.herokuapp.com/".concat(n)),p.addEventListener("load",function(){var e=new Vibrant(this).swatches().Vibrant.getHex(),t=E(y(e),60).str;r.b.color=t,_.innerText="",_.innerText+="#bg-url {color: ".concat(e,"}"),_.innerText+="#da-url {color: ".concat(e,"}"),_.innerText+=".danger {color: ".concat(e," !important}"),_.innerText+=".name {color: ".concat(e,"}"),_.innerText+=".cost {color: ".concat(e,"}"),_.innerText+=".cost-buy {color: ".concat(e,"}"),_.innerText+="input:focus {--accent: ".concat(e,"; --shadow: ").concat(t,"}"),_.innerText+="::selection {background: ".concat(e,"}"),_.innerText+="::-moz-selection {background: ".concat(e,"}"),document.head.appendChild(_),o.a.set("bg-url",n),o.a.set("accent",e)})}else u.a.sendInside("Этот фон уже установлен");else u.a.sendInside("Нет URL фона")};var k=document.getElementById("da-url"),w=document.getElementById("save-da-url-btn"),T=document.getElementById("clear-da-url-btn"),x=o.a.get("token");k.value=x||"",[k,w,T].forEach(function(e){return e.addEventListener("click",r.a)}),k.onclick=function(){O(this)},w.onclick=function(){var e=k.value;if(e)return 20!==e.length?(u.a.sendInside("Введите корректный токен"),void(k.value="")):void(e!==o.a.get("token")?(o.a.set("token",e),u.a.sendInside("Токен сохранен"),location.reload()):u.a.sendInside("Этот токен уже установлен"));u.a.sendInside("Введите токен")},T.onclick=function(){k.value?(k.value="",o.a.del("token"),u.a.sendInside("Токен удален"),location.reload()):u.a.sendInside("Токен уже удален")};var B=document.getElementById("settings-icon"),C=document.getElementById("settings"),L=Array.from(document.getElementsByClassName("special-url"));B.addEventListener("click",r.a),B.onclick=function(){return C.classList.toggle("closed")},L.forEach(function(e){return e.addEventListener("click",r.a)});var O=function(e){e.focus(),e.select()},M=function(e){return e=encodeURI(e),/\.(jpg|jpeg|png|gif|webp|svg)$/.test(e)&&/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)/.test(e)},I=n(4),A=n(3),S={reconnection:!0};try{!function(){var e,t=o.a.get("token");if(!t)return;(e=io("https://socket.donationalerts.ru:443",S)).emit("add-user",{token:t,type:"minor"}),e.on("donation",function(e){return D(e)})}()}catch(e){u.a.sendInside("Нет подключения, к DonationAlerts.")}var D=function(e){var o,a,t,r,c,s=!1;if(window.started&&1==(t=JSON.parse(e)).alert_type&&(a=Object(A.a)(t.message),o=Number(t.amount),r=Array.from(document.getElementsByClassName("name")),Array.from(document.getElementsByClassName("cost")).some(function(e,t){var n=r[t].value,i=n&&a.trim().toLowerCase().includes(n.trim().toLowerCase());return c="Добавить ₽".concat(o,' к "').concat(Object(A.b)(n),'"?'),!!i&&(u.a.sendPrompt(c,function(){var r=Array.from(document.getElementsByClassName("name"));Array.from(document.getElementsByClassName("cost")).some(function(e,t){var n=r[t].value,i=Number(e.value);return!(!n||!a.toLowerCase().includes(n.toLowerCase()))&&(e.value=o+i,Object(l.b)(e),Object(l.a)(e),Object(l.d)(),!0)})}),s=!0)}),u.a.sendNotification("Новое пожертвование".concat(t.username?" от ".concat(t.username):"","!"),"".concat(I.a.decorate(Object(A.a)(a))," с ").concat(o,"₽")),!s)){c='Создать "'.concat(Object(A.b)(a).trim(),'" с ₽').concat(o,"?");u.a.sendPrompt(c,function(){Object(l.c)(a,o)})}};function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var R=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=e.innerHTML.split(":");this.elem=e,this.m=+t[0],this.s=+t[1],this.ms=+t[2],this.time=new Date(6e4*this.m+1e3*this.s+this.ms),this.started=!1,this.timeStart=new Date}return function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(n,[{key:"start",value:function(){var e=this;this.started||(this.m?(this.timeStart=new Date,this.m--,this.started=!0,window.started=!0,requestAnimationFrame(function(){return e.updateTimer()})):I.a.show())}},{key:"reset",value:function(){this.elem.innerHTML="00:00:00",this.m=0,this.time=new Date(0)}},{key:"stop",value:function(){this.reset(),this.started=!1,window.started=!1,cancelAnimationFrame(this.updateTimer)}},{key:"minusOne",value:function(){this.m&&(this.m--,this.started?this.timeStart.setMinutes(this.timeStart.getMinutes()-1):(this.m=this.m<0?0:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),this.elem.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00")))}},{key:"plusOne",value:function(){this.started?59!==this.m&&(this.timeStart.setMinutes(this.timeStart.getMinutes()+1),this.m++):(this.m++,this.m=59<this.m?59:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),this.elem.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00"))}},{key:"plusTwo",value:function(){this.started?58===this.m?(this.timeStart.setMinutes(this.timeStart.getMinutes()+1),this.m++):this.m<58&&(this.timeStart.setMinutes(this.timeStart.getMinutes()+2),this.m+=2):(this.m+=2,this.m=59<this.m?59:this.m,this.time=new Date(6e4*this.m+1e3*this.s+this.ms),this.elem.innerHTML="".concat(this.m<10?"0".concat(this.m):this.m,":00:00"))}},{key:"updateTimer",value:function(){var e,t=this,n=new Date,i=new Date(n-this.timeStart),r=new Date(this.time-i),o=document.title,a=r.getMinutes(),c=r.getSeconds(),s=r.getMilliseconds(),l=I.a.return();this.m=a,this.s=c,this.ms=s,!a&&c<31&&!this.elem.classList.contains("danger")?this.elem.classList.add("danger"):this.elem.classList.contains("danger")&&(a||31<c)&&this.elem.classList.remove("danger"),l?o===(e="".concat(I.a.decorate(l)," лидирует!"))&&"Аукцион"!==o||(document.title=e):"Аукцион"!==o&&(document.title="Аукцион"),!a&&!c&&s<300||this.time<i?(this.stop(),I.a.show(I.a.compile(l))):(a=a<10?"0".concat(a):a,c=c<10?"0".concat(c):c,s=s<10?"0".concat(s):s,s=String(s).substr(0,2),this.elem.innerHTML="".concat(a,":").concat(c,":").concat(s),requestAnimationFrame(function(){return t.updateTimer()}))}}]),n}(),N=o.a.get("previousMinutes"),U=document.getElementById("timer");N&&(U.innerHTML="".concat(N,":00:00"));var j=new R(U),q=Array.from(document.getElementById("timer-btns").children),K=q[0],W=q[1],z=q[2],F=q[3],H=q[4];q.forEach(function(e){return e.addEventListener("click",r.a)}),K.onclick=function(){var e=U.innerHTML.split(":")[0];e&&!window.started&&o.a.set("previousMinutes",e),j.start()},W.onclick=function(){j.started?(j.timeStart=new Date(new Date-j.time+300),u.a.clear(),j.stop()):j.reset()},z.onclick=function(){return j.minusOne()},F.onclick=function(){return j.plusOne()},H.onclick=function(){return j.plusTwo()}}]);